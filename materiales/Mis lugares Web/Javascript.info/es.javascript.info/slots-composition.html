<!DOCTYPE html><html lang="es" data-theme-enabled="1">
<!-- Mirrored from es.javascript.info/slots-composition by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 07 Feb 2023 21:14:58 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><script>window.currentUser = null;</script><script>window.shopCurrency = "EUR";</script><script>window.localCurrency = "EUR";</script><script>window.countryCode = "es";</script><script>window.rateShopTo = {"EUR":1,"USD":1.0766800785115114,"AMD":432.27119525485557};</script><title itemprop="name">Shadow DOM slots, composición</title><link href="pack/styles.40bd864cfdb7b5d1a94b.css" rel="stylesheet"><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes, minimum-scale=1.0"><meta name="apple-mobile-web-app-capable" content="yes"><!-- chrome autotranslate is enabled only for "en" main version--><meta name="google" content="notranslate"><script>if (window.devicePixelRatio > 1) document.cookie = 'pixelRatio=' + window.devicePixelRatio + ';path=/;expires=Tue, 19 Jan 2038 03:14:07 GMT';</script><link href="http://fonts.googleapis.com/css?family=Open+Sans:bold,italic,bolditalic" rel="stylesheet"><link rel="apple-touch-icon-precomposed" href="img/favicon/apple-touch-icon-precomposed.png"><link rel="canonical" href="slots-composition.html"><meta name="msapplication-TileColor" content="#222A2C"><meta name="msapplication-TileImage" content="/img/favicon/tileicon.png"><link rel="icon" href="img/favicon/favicon.png"><meta itemprop="image" content="https://es.javascript.info/img/site_preview_en_512x512.png"><meta property="og:title" content="Shadow DOM slots, composición"><meta property="og:image" content="https://es.javascript.info/img/site_preview_en_1200x630.png"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta property="fb:admins" content="100001562528165"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Shadow DOM slots, composición"><meta name="twitter:site" content="@iliakan"><meta name="twitter:creator" content="@iliakan"><meta name="twitter:image" content="https://es.javascript.info/img/site_preview_en_512x512.png"><link rel="prev" href="template-element.html"><link rel="next" href="shadow-dom-style.html"><script>window.GA_ID = "UA-2056213-15";</script><script>window.YANDEX_METRIKA_ID = 32184394;</script><script>window.GoogleAnalyticsObject="ga",window.ga=function(){window.ga.q.push(arguments)},window.ga.q=[],window.ga.l=Date.now(),ga("create",GA_ID,"auto"),window.GTM_ID&&ga("require",GTM_ID),window.currentUser?ga("set","&uid",currentUser.id):ga("set","anonymizeIp",!0),window.addEventListener("error",function(e){var r=(e.filename||e.errorUrl)+": "+(e.lineno||e.errorLine),n=e.stack||e.error&&e.error.stack;ga("send","exception",{exDescription:e.message+" "+r+" "+n,exFatal:!0})});</script><script src="../www.google-analytics.com/analytics.js" async></script><script>ga('send', 'pageview');</script><script>window.metrika={reachGoal:function(){}},window.yandex_metrika_callbacks=[function(){try{window.metrika=new Ya.Metrika({id:YANDEX_METRIKA_ID,webvisor:!0,clickmap:!0,params:{user:window.currentUser&&window.currentUser.id}}),metrika.trackLinks({delay:150}),window.addEventListener("error",function(r){window.metrika.reachGoal("JSERROR",{src:(r.filename||r.errorUrl)+": "+(r.lineno||r.errorLine),stack:r.stack||r.error&&r.error.stack,message:r.message})})}catch(r){}}];</script><script src="../mc.yandex.ru/metrika/watch.js" async></script><script>window.RECAPTCHA_ID = "6LfmLAEVAAAAAJMykMnf7aY8nkyTRmYi2ynx51R1";</script><script src="pack/init.da0cbf9711553523e21d.js"></script><script src="pack/head.d82dc89d7b800e91179f.js" defer></script><meta property="og:title" content="Shadow DOM slots, composición"><meta property="og:type" content="article"><script src="pack/tutorial.7967275b5846db2d02db.js" defer></script><script src="pack/footer.378d5659c5f335e3ee99.js" defer></script></head><body class="no-icons"><script>window.fontTest();</script><div class="page-wrapper page-wrapper_sidebar_on"><!--[if IE]><div style="color:red;text-align:center">Lo sentimos, Internet Explorer no es compatible. Utilice un navegador más nuevo.</div><![endif]--><div class="sitetoolbar sitetoolbar_tutorial"><script>window.langs = [{"code":"ar","name":"Arabic"},{"code":"az","name":"Azerbaijani"},{"code":"bg","name":"Bulgarian"},{"code":"bn","name":"Bengali"},{"code":"bs","name":"Bosnian"},{"code":"ca","name":"Catalan"},{"code":"cs","name":"Czech"},{"code":"da","name":"Danish"},{"code":"de","name":"German"},{"code":"el","name":"Greek"},{"code":"en","name":"English"},{"code":"es","name":"Spanish"},{"code":"fa","name":"Persian (Farsi)"},{"code":"fi","name":"Finnish"},{"code":"fr","name":"French"},{"code":"he","name":"Hebrew"},{"code":"hi","name":"Hindi"},{"code":"hr","name":"Croatian"},{"code":"hu","name":"Hungarian"},{"code":"hy","name":"Armenian"},{"code":"id","name":"Indonesian"},{"code":"it","name":"Italian"},{"code":"ja","name":"Japanese"},{"code":"ka","name":"Georgian"},{"code":"kk","name":"Kazakh"},{"code":"km","name":"Central Khmer"},{"code":"ko","name":"Korean"},{"code":"ky","name":"Kyrgyz"},{"code":"lt","name":"Lithuanian"},{"code":"me","name":"Montenegrin"},{"code":"ml","name":"Malayalam"},{"code":"ms","name":"Malay"},{"code":"my","name":"Burmese"},{"code":"nl","name":"Dutch"},{"code":"no","name":"Norvegian"},{"code":"pa","name":"Punjabi"},{"code":"pl","name":"Polish"},{"code":"pt","name":"Portuguese"},{"code":"ro","name":"Romanian"},{"code":"ru","name":"Russian"},{"code":"si","name":"Sinhala"},{"code":"sk","name":"Slovak"},{"code":"sl","name":"Slovenian"},{"code":"sq","name":"Albanian"},{"code":"sr","name":"Serbian"},{"code":"ta","name":"Tamil"},{"code":"te","name":"Telugu"},{"code":"test","name":"Test"},{"code":"th","name":"Thai"},{"code":"tk","name":"Turkmen"},{"code":"tr","name":"Turkish"},{"code":"uk","name":"Ukrainian"},{"code":"ur","name":"Urdu"},{"code":"uz","name":"Uzbek"},{"code":"v2","name":"v2"},{"code":"vi","name":"Vietnamese"},{"code":"zh-hant","name":"Chinese Traditional"},{"code":"zh","name":"Chinese"}];</script><script>window.lang = "es";</script><script>{let t=navigator.languages||[];t=t.map(t=>t.toLowerCase());let o,i,n=[];for(let o of window.langs)for(let i of t)if(i===o.code||i.startsWith(o.code+"-")){n.push(o);break}if(!o&&"ru"!=lang&&"en"!=lang){n.find(t=>"en"==t.code)&&(o=`\n            According to your browser headers, you know English. Please help to <a href="https://github.com/javascript-tutorial/${lang}.javascript.info#readme">translate the tutorial</a>.\n            Thank you!\n          `,i="notify-translate-tutorial-local")}if(o){let t=`<div class="notification notification_top notification_info sitetoolbar__notification" style="display:none" id="${i}">\n          <div class="notification__content">${o}</div>\n          <button class="notification__close" title="Close"></button>\n        </div>`;document.write(t),showTopNotification()}}</script><div class="sitetoolbar__content"><div class="sitetoolbar__lang-switcher"><button class="sitetoolbar__dropdown-button" data-dropdown-toggler>ES</button><div class="sitetoolbar__dropdown-wrap"><div class="sitetoolbar__dropdown-body"><div class="sitetoolbar__lang-switcher-body"><div class="supported-langs supported-langs_toolbar"><div class="supported-langs__container"><ul class="supported-langs__list" style="height:200px"><li class="supported-langs__item"><a class="supported-langs__link" href="https://ar.javascript.info/"><span class="supported-langs__brief">AR</span><span class="supported-langs__title">عربي</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://javascript.info/slots-composition"><span class="supported-langs__brief">EN</span><span class="supported-langs__title">English</span></a></li><li class="supported-langs__item supported-langs__item_current"><a class="supported-langs__link" href="slots-composition.html"><span class="supported-langs__brief">ES</span><span class="supported-langs__title">Español</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://fa.javascript.info/"><span class="supported-langs__brief">FA</span><span class="supported-langs__title">فارسی</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://fr.javascript.info/"><span class="supported-langs__brief">FR</span><span class="supported-langs__title">Français</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://id.javascript.info/slots-composition"><span class="supported-langs__brief">ID</span><span class="supported-langs__title">Indonesia</span></a></li></ul><ul class="supported-langs__list" style="height:200px"><li class="supported-langs__item"><a class="supported-langs__link" href="https://it.javascript.info/slots-composition"><span class="supported-langs__brief">IT</span><span class="supported-langs__title">Italiano</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://ja.javascript.info/slots-composition"><span class="supported-langs__brief">JA</span><span class="supported-langs__title">日本語</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://ko.javascript.info/"><span class="supported-langs__brief">KO</span><span class="supported-langs__title">한국어</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://learn.javascript.ru/slots-composition"><span class="supported-langs__brief">RU</span><span class="supported-langs__title">Русский</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://tr.javascript.info/"><span class="supported-langs__brief">TR</span><span class="supported-langs__title">Türkçe</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://uk.javascript.info/slots-composition"><span class="supported-langs__brief">UK</span><span class="supported-langs__title">Українська</span></a></li></ul><ul class="supported-langs__list" style="height:20px"><li class="supported-langs__item"><a class="supported-langs__link" href="https://zh.javascript.info/slots-composition"><span class="supported-langs__brief">ZH</span><span class="supported-langs__title">简体中文</span></a></li></ul></div><div class="supported-langs__text"><p>Queremos que este proyecto de código abierto esté disponible para personas de todo el mundo.</p> <p><a href="https://javascript.info/translate">Ayuda a traducir</a> el contenido de este tutorial a tu idioma!</p>
</div></div></div></div></div></div><div class="sitetoolbar__logo-wrap"><a class="sitetoolbar__link sitetoolbar__link_logo" href="index.html"><img class="sitetoolbar__logo sitetoolbar__logo_normal" src="img/sitetoolbar__logo_en.svg" width="200" alt="" role="presentation"/><img class="sitetoolbar__logo sitetoolbar__logo_normal sitetoolbar__logo_dark" src="img/sitetoolbar__logo_en-white.svg" width="200" alt="" role="presentation"/><img class="sitetoolbar__logo sitetoolbar__logo_small" src="img/sitetoolbar__logo_small_en.svg" width="70" alt="" role="presentation"/><img class="sitetoolbar__logo sitetoolbar__logo_small sitetoolbar__logo_dark" src="img/sitetoolbar__logo_small_en-white.svg" width="70" alt="" role="presentation"/><script>Array.prototype.forEach.call(document.querySelectorAll("img.sitetoolbar__logo"),function(e){let t=document.createElement("object");t.type="image/svg+xml",t.className=e.className,t.style.cssText="left:0;top:0;position:absolute",t.onload=function(){t.onload=null,e.style.visibility="hidden"},t.data=e.src,e.parentNode.insertBefore(t,e)});</script></a></div><div class="sitetoolbar__nav-toggle-wrap"><button class="sitetoolbar__nav-toggle" type="button"></button></div><nav class="sitetoolbar__sections"><ul class="sitetoolbar__sections-list"></ul></nav><div class="sitetoolbar__book-wrap"><a class="buy-book-button" href="ebook.html"><span class="buy-book-button__extra-text">Comprar</span>EPUB/PDF</a></div><div class="sitetoolbar__theme-switcher"><div class="theme-changer"><label class="theme-changer__label" for="theme-changer-input" data-tooltip="Change theme"><input class="theme-changer__input" type="checkbox" id="theme-changer-input" data-theme-changer="data-theme-changer"/><span class="theme-changer__icon theme-changer__icon_light-theme"></span><span class="theme-changer__icon theme-changer__icon_dark-theme"></span></label></div></div><div class="sitetoolbar__search-wrap"><div class="sitetoolbar__search-content"><button class="sitetoolbar__search-toggle" type="button"></button><form class="sitetoolbar__search" method="GET" action="https://es.javascript.info/search"><div class="sitetoolbar__search-input"><div class="text-input"><input class="text-input__control" name="query" placeholder="Buscar en Javascript.info" required="required" type="text"/></div><button class="sitetoolbar__find" type="submit">Buscar</button></div></form></div></div></div><div class="tablet-menu"><div class="tablet-menu__line"><div class="tablet-menu__content"><form class="tablet-menu-search" action="https://es.javascript.info/search/"><input class="tablet-menu-search__input" type="search" name="query" placeholder="Buscar en el tutorial" required="required"/><button class="tablet-menu-search__button" type="submit" name="type" value="articles">Buscar</button></form></div></div><div class="tablet-menu__line"><div class="tablet-menu__content"><a class="map" href="tutorial/map.html" data-action="tutorial-map"><span class="map__text">Mapa del Tutorial</span></a></div></div><div class="tablet-menu__line"><div class="tablet-menu__content"><div class="theme-changer theme-changer_tablet-menu theme-changer_has-label"><label class="theme-changer__label" for="theme-changer-input-tablet" data-tooltip="Change theme"><input class="theme-changer__input" type="checkbox" id="theme-changer-input-tablet" data-theme-changer="data-theme-changer"/><span class="theme-changer__icon theme-changer__icon_light-theme"></span><span class="theme-changer__icon theme-changer__icon_dark-theme"></span><span class="theme-changer__label-text theme-changer__label-text_light-theme">Light theme</span><span class="theme-changer__label-text theme-changer__label-text_dark-theme">Dark theme</span></label></div></div></div><div class="tablet-menu__line"><div class="tablet-menu__content"><div class="share-icons"><span class="share-icons__title">Compartir</span><a class="share share_tw" href="https://twitter.com/share?url=https%3A%2F%2Fes.javascript.info%2Fslots-composition" rel="nofollow"></a><a class="share share_fb" href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p%5Burl%5D=https%3A%2F%2Fes.javascript.info%2Fslots-composition" rel="nofollow"></a></div></div></div><div class="tablet-menu__line"><div class="tablet-menu__content"><select class="tablet-menu__nav input-select input-select input-select_small" onchange="if(this.value) window.location.href=this.value"><option value="https://ar.javascript.info/">عربي</option><option value="https://javascript.info/slots-composition">English</option><option value="https://es.javascript.info/slots-composition" selected>Español</option><option value="https://fa.javascript.info/">فارسی</option><option value="https://fr.javascript.info/">Français</option><option value="https://id.javascript.info/slots-composition">Indonesia</option><option value="https://it.javascript.info/slots-composition">Italiano</option><option value="https://ja.javascript.info/slots-composition">日本語</option><option value="https://ko.javascript.info/">한국어</option><option value="https://learn.javascript.ru/slots-composition">Русский</option><option value="https://tr.javascript.info/">Türkçe</option><option value="https://uk.javascript.info/slots-composition">Українська</option><option value="https://zh.javascript.info/slots-composition">简体中文</option></select></div></div></div><progress class="tutorial-progress" data-sticky value="5" max="7" data-tooltip="Lección 5 de 7"></progress></div><div class="page page_sidebar_on page_inner_padding"><script>if(localStorage.noSidebar){document.querySelector(".page").classList.remove("page_sidebar_on");let e=document.querySelector(".page-wrapper");e&&e.classList.remove("page-wrapper_sidebar_on")}setTimeout(function(){document.querySelector(".page").classList.add("page_sidebar-animation-on")});</script><div class="page__inner"><main class="main main_width-limit"><header class="main__header"><div class="main__header-inner"><div class="main__header-group"><ol class="breadcrumbs"><li class="breadcrumbs__item breadcrumbs__item_home"><a class="breadcrumbs__link" href="index.html"><span class="breadcrumbs__hidden-text">Tutorial</span></a></li><li class="breadcrumbs__item" id="breadcrumb-1"><a class="breadcrumbs__link" href="web-components.html"><span>Componentes Web</span></a></li><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Tutorial","item":"https://es.javascript.info/"},{"@type":"ListItem","position":2,"name":"Componentes Web","item":"https://es.javascript.info/web-components"}]}</script></ol><div class="updated-at" data-tooltip="Última actualización el 4 de octubre de 2022"><div class="updated-at__content">4 de octubre de 2022</div></div></div><h1 class="main__header-title">Shadow DOM slots, composición</h1></div></header><div class="content"><article class="formatted" itemscope itemtype="http://schema.org/TechArticle"><meta itemprop="name" content="Shadow DOM slots, composición"><div itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="email" content="iliakan@gmail.com"><meta itemprop="name" content="Ilya Kantor"></div><div itemprop="articleBody"><p>Muchos tipos de componentes; como pestañas, menús, galerías de imágenes, etc., necesitan renderizar contenido.</p>
<p>Al igual que el <code>&lt;select&gt;</code> nativo del navegador espera elementos de <code>&lt;option&gt;</code>, nuestros <code>&lt;custom-tabs&gt;</code> pueden esperar que se pase el contenido real de la pestaña. Y un <code>&lt;custom-menu&gt;</code> puede esperar elementos de menú.</p>
<p>El código que hace uso de <code>&lt;custom-menu&gt;</code> puede verse así:</p>
<div id="fmil231m0b" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;custom-menu&gt;
  &lt;title&gt;Menú de dulces&lt;/title&gt;
  &lt;item&gt;Paletas&lt;/item&gt;
  &lt;item&gt;Tostada de frutas&lt;/item&gt;
  &lt;item&gt;Magdalenas&lt;/item&gt;
&lt;/custom-menu&gt;</code></pre>
        </div>
      </div>
      
      </div><p>…Entonces nuestro componente debería renderizar correctamente, como un agradable menú con un título y elementos dados, manejar eventos de menú, etc.</p>
<p>¿Cómo implementarlo?</p>
<p>Podríamos intentar analizar el contenido del elemento y copiar y reorganizar dinámicamente los nodos del DOM. Esto es posible, pero si estamos moviendo elementos al shadow DOM, entonces los estilos CSS del documento no se aplican allí, por lo que se puede perder el estilo visual. También eso requiere algo de programación.</p>
<p>Afortunadamente, no tenemos que hacerlo. Shadow DOM soporta elementos <code>&lt;slot&gt;</code>, que se llenan automáticamente con el contenido del light DOM.</p>
<h2><a class="main__anchor" name="slots-con-nombres" href="#slots-con-nombres">Slots con nombres</a></h2><p>Veamos cómo funcionan los slots en un ejemplo simple.</p>
<p>Aquí, el shadow DOM <code>&lt;user-card&gt;</code> proporciona dos slots, que se llenan desde el light DOM:</p>
<div id="ga9qgdfa3l" data-trusted="0" class="code-example" data-demo-height="80" data-highlight="[{&quot;start&quot;:18,&quot;cols&quot;:[{&quot;start&quot;:8,&quot;end&quot;:23}]},{&quot;start&quot;:17,&quot;cols&quot;:[{&quot;start&quot;:8,&quot;end&quot;:23}]},{&quot;start&quot;:9,&quot;end&quot;:9},{&quot;start&quot;:6,&quot;end&quot;:6}]" data-autorun="no-epub">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="mostrar" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="abrir en entorno controlado" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;script&gt;
customElements.define('user-card', class extends HTMLElement {
  connectedCallback() {
    this.attachShadow({mode: 'open'});
    this.shadowRoot.innerHTML = `
      &lt;div&gt;Nombre:
        &lt;slot name=&quot;username&quot;&gt;&lt;/slot&gt;
      &lt;/div&gt;
      &lt;div&gt;Cumpleaños:
        &lt;slot name=&quot;birthday&quot;&gt;&lt;/slot&gt;
      &lt;/div&gt;
    `;
  }
});
&lt;/script&gt;

&lt;user-card&gt;
  &lt;span slot=&quot;username&quot;&gt;John Smith&lt;/span&gt;
  &lt;span slot=&quot;birthday&quot;&gt;01.01.2001&lt;/span&gt;
&lt;/user-card&gt;</code></pre>
        </div>
      </div>
      <div class="code-result code-example__result">
          <iframe
            class="code-result__iframe"
            name="test-ga9qgdfa3l"
            style="height:80px"
            src="about:blank"></iframe>
        </div>
      </div><p>En el shadow DOM, <code>&lt;slot name=&quot;X&quot;&gt;</code> define un “punto de inserción”, un lugar donde se renderizan los elementos con <code>slot=&quot;X&quot;</code>.</p>
<p>Luego, el navegador realiza la “composición”: toma elementos del light DOM y los renderiza en los slots correspondientes del shadow DOM. Al final, tenemos exactamente lo que queremos: un componente que se puede llenar con datos.</p>
<p>Aquí está la estructura del DOM después del script, sin tener en cuenta la composición:</p>
<div id="31wluy6jzv" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;user-card&gt;
  #shadow-root
    &lt;div&gt;Nombre:
      &lt;slot name=&quot;username&quot;&gt;&lt;/slot&gt;
    &lt;/div&gt;
    &lt;div&gt;Cumpleaños:
      &lt;slot name=&quot;birthday&quot;&gt;&lt;/slot&gt;
    &lt;/div&gt;
  &lt;span slot=&quot;username&quot;&gt;John Smith&lt;/span&gt;
  &lt;span slot=&quot;birthday&quot;&gt;01.01.2001&lt;/span&gt;
&lt;/user-card&gt;</code></pre>
        </div>
      </div>
      
      </div><p>Creamos el shadow DOM, así que aquí está, en <code>#shadow-root</code>. Ahora el elemento tiene ambos, light DOM y shadow DOM.</p>
<p>Para fines de renderizado, para cada <code>&lt;slot name=&quot;...&quot;&gt;</code> en el shadow DOM, el navegador busca <code>slot=&quot;...&quot;</code> con el mismo nombre en el light DOM.  Estos elementos se renderizan dentro de los slots:</p>
<figure><div class="image" style="width:440px">
      <div class="image__ratio" style="padding-top:64.77272727272727%"></div>
      <object type="image/svg+xml" data="article/slots-composition/shadow-dom-user-card.svg" width="440" height="285" class="image__image" data-use-theme>
        <img src="article/slots-composition/shadow-dom-user-card.svg" alt="" width="440" height="285">
      </object>
      </div></figure><p>El resultado se llama “flattened DOM” (DOM aplanado):</p>
<div id="a2d4i6mvvp" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;user-card&gt;
  #shadow-root
    &lt;div&gt;Nombre:
      &lt;slot name=&quot;username&quot;&gt;
        &lt;!-- el elemento esloteado se inserta en el slot --&gt;
        &lt;span slot=&quot;username&quot;&gt;John Smith&lt;/span&gt;
      &lt;/slot&gt;
    &lt;/div&gt;
    &lt;div&gt;Cumpleaños:
      &lt;slot name=&quot;birthday&quot;&gt;
        &lt;span slot=&quot;birthday&quot;&gt;01.01.2001&lt;/span&gt;
      &lt;/slot&gt;
    &lt;/div&gt;
&lt;/user-card&gt;</code></pre>
        </div>
      </div>
      
      </div><p>…Pero el flattened DOM existe solo para fines de procesamiento y manejo de eventos. Es una especie de “virtual DOM”. Así se muestran las cosas. Pero los nodos del documento en realidad no se mueven!</p>
<p>Eso se puede comprobar fácilmente si ejecutamos <code>querySelectorAll</code>: los nodos todavía están en sus lugares.</p>
<div id="6xa626moou" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code>// light DOM &lt;span&gt; los nodos siguen en el mismo lugar, en `&lt;user-card&gt;`
alert( document.querySelectorAll('user-card span').length ); // 2</code></pre>
        </div>
      </div>
      
      </div><p>Entonces, el flattened DOM se deriva del shadow DOM insertando slots. El navegador lo renderiza y lo usa para la herencia de estilo, la propagación de eventos (más sobre esto más adelante). Pero JavaScript todavía ve el documento “tal cual”, antes de acoplarlo.</p>
<div class="important important_warn">
            <div class="important__header"><span class="important__type">Solo los nodos hijos de alto nivel pueden tener el atributo slot=&quot;…&quot; </span></div>
            <div class="important__content"><p>El atributo <code>slot =&quot; ... &quot;</code> solo es válido para los hijos directos del shadow host (en nuestro ejemplo, el elemento <code>&lt;user-card&gt;</code>). Para los elementos anidados, se ignora.</p>
<p>Por ejemplo, el segundo <code>&lt;span&gt;</code> aquí se ignora (ya que no es un elemento hijo de nivel superior de <code>&lt;user-card&gt;</code>):</p>
<div id="5pytcag34h" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;user-card&gt;
  &lt;span slot=&quot;username&quot;&gt;John Smith&lt;/span&gt;
  &lt;div&gt;
    &lt;!-- slot no válido, debe ser hijo directo de user-card --&gt;
    &lt;span slot=&quot;birthday&quot;&gt;01.01.2001&lt;/span&gt;
  &lt;/div&gt;
&lt;/user-card&gt;</code></pre>
        </div>
      </div>
      
      </div></div></div>
<p>Si hay varios elementos en el light DOM con el mismo nombre de slot, se añaden al slot, uno tras otro.</p>
<p>Por ejemplo, este:</p>
<div id="7xx45w5hfm" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;user-card&gt;
  &lt;span slot=&quot;username&quot;&gt;John&lt;/span&gt;
  &lt;span slot=&quot;username&quot;&gt;Smith&lt;/span&gt;
&lt;/user-card&gt;</code></pre>
        </div>
      </div>
      
      </div><p>Este flattened DOM con dos elementos en <code>&lt;slot name=&quot;username&quot;&gt;</code>:</p>
<div id="410nl4o6h2" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;user-card&gt;
  #shadow-root
    &lt;div&gt;Nombre:
      &lt;slot name=&quot;username&quot;&gt;
        &lt;span slot=&quot;username&quot;&gt;John&lt;/span&gt;
        &lt;span slot=&quot;username&quot;&gt;Smith&lt;/span&gt;
      &lt;/slot&gt;
    &lt;/div&gt;
    &lt;div&gt;Cumpleaños:
      &lt;slot name=&quot;birthday&quot;&gt;&lt;/slot&gt;
    &lt;/div&gt;
&lt;/user-card&gt;</code></pre>
        </div>
      </div>
      
      </div><h2><a class="main__anchor" name="slot-con-contenido-alternativo" href="#slot-con-contenido-alternativo">Slot con contenido alternativo</a></h2><p>Si ponemos algo dentro de un <code>&lt;slot&gt;</code>, se convierte en el contenido alternativo, “predeterminado”. El navegador lo muestra si no tiene un equivalente en el Light DOM desde donde llenarlo.</p>
<p>Por ejemplo, en esta parte del shadow DOM, se representa <code>Anónimo</code> si no hay <code>slot=&quot;username&quot;</code> en el light DOM.</p>
<div id="78u83exswe" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;div&gt;Name:
  &lt;slot name=&quot;username&quot;&gt;anónimo&lt;/slot&gt;
&lt;/div&gt;</code></pre>
        </div>
      </div>
      
      </div><h2><a class="main__anchor" name="slot-predeterminado-el-primero-sin-nombre" href="#slot-predeterminado-el-primero-sin-nombre">Slot predeterminado: el primero sin nombre</a></h2><p>El primer <code>&lt;slot&gt;</code> en el shadow DOM que no tiene un nombre es un slot “predeterminado”. Obtiene todos los nodos del light DOM que no están ubicados en otro lugar.</p>
<p>Por ejemplo, agreguemos el slot predeterminado a nuestro <code>&lt;user-card&gt;</code> que muestra toda la información sin slotear sobre el usuario:</p>
<div id="31d7b68d28" data-trusted="0" class="code-example" data-demo-height="140" data-highlight="[{&quot;start&quot;:24,&quot;end&quot;:24},{&quot;start&quot;:21,&quot;end&quot;:21},{&quot;start&quot;:13,&quot;end&quot;:13}]" data-autorun="no-epub">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="mostrar" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="abrir en entorno controlado" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;script&gt;
customElements.define('user-card', class extends HTMLElement {
  connectedCallback() {
    this.attachShadow({mode: 'open'});
    this.shadowRoot.innerHTML = `
    &lt;div&gt;Nombre:
      &lt;slot name=&quot;username&quot;&gt;&lt;/slot&gt;
    &lt;/div&gt;
    &lt;div&gt;Cumpleaños:
      &lt;slot name=&quot;birthday&quot;&gt;&lt;/slot&gt;
    &lt;/div&gt;
    &lt;fieldset&gt;
      &lt;legend&gt;Otra información&lt;/legend&gt;
      &lt;slot&gt;&lt;/slot&gt;
    &lt;/fieldset&gt;
    `;
  }
});
&lt;/script&gt;

&lt;user-card&gt;
  &lt;div&gt;Me gusta nadar.&lt;/div&gt;
  &lt;span slot=&quot;username&quot;&gt;John Smith&lt;/span&gt;
  &lt;span slot=&quot;birthday&quot;&gt;01.01.2001&lt;/span&gt;
  &lt;div&gt;...Y jugar volleyball también!&lt;/div&gt;
&lt;/user-card&gt;</code></pre>
        </div>
      </div>
      <div class="code-result code-example__result">
          <iframe
            class="code-result__iframe"
            name="test-31d7b68d28"
            style="height:140px"
            src="about:blank"></iframe>
        </div>
      </div><p>Todo el contenido del light DOM sin slotear entra en el conjunto de campos “Otra información”.</p>
<p>Los elementos se agregan a un slot uno tras otro, por lo que ambas piezas de información sin slotear se encuentran juntas en el slot predeterminado.</p>
<p>El flattened DOM se ve así:</p>
<div id="cw5qdfc2p5" data-trusted="1" class="code-example" data-highlight="[{&quot;start&quot;:14,&quot;end&quot;:17}]">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;user-card&gt;
  #shadow-root
    &lt;div&gt;Nombre:
      &lt;slot name=&quot;username&quot;&gt;
        &lt;span slot=&quot;username&quot;&gt;John Smith&lt;/span&gt;
      &lt;/slot&gt;
    &lt;/div&gt;
    &lt;div&gt;Cumpleaños:
      &lt;slot name=&quot;birthday&quot;&gt;
        &lt;span slot=&quot;birthday&quot;&gt;01.01.2001&lt;/span&gt;
      &lt;/slot&gt;
    &lt;/div&gt;
    &lt;fieldset&gt;
      &lt;legend&gt;Otra información&lt;/legend&gt;
      &lt;slot&gt;
        &lt;div&gt;Me gusta nadar.&lt;/div&gt;
        &lt;div&gt;...Y jugar volleyball también!&lt;/div&gt;
      &lt;/slot&gt;
    &lt;/fieldset&gt;
&lt;/user-card&gt;</code></pre>
        </div>
      </div>
      
      </div><h2><a class="main__anchor" name="ejemplo-de-menu" href="#ejemplo-de-menu">Ejemplo de menú</a></h2><p>Ahora volvamos al <code>&lt;custom-menu&gt;</code>, mencionado al principio del capítulo.</p>
<p>Podemos usar slots para distribuir elementos.</p>
<p>Aquí está el marcado para <code>&lt;custom-menu&gt;</code>:</p>
<div id="3egwa88nmz" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;custom-menu&gt;
  &lt;span slot=&quot;title&quot;&gt;Menú de dulces&lt;/span&gt;
  &lt;li slot=&quot;item&quot;&gt;Paletas&lt;/li&gt;
  &lt;li slot=&quot;item&quot;&gt;Tostada de frutas&lt;/li&gt;
  &lt;li slot=&quot;item&quot;&gt;Magdalenas&lt;/li&gt;
&lt;/custom-menu&gt;</code></pre>
        </div>
      </div>
      
      </div><p>La plantilla del shadow DOM con los slots adecuados:</p>
<div id="b9zj3xfbww" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;template id=&quot;tmpl&quot;&gt;
  &lt;style&gt; /* estilos del menu */ &lt;/style&gt;
  &lt;div class=&quot;menu&quot;&gt;
    &lt;slot name=&quot;title&quot;&gt;&lt;/slot&gt;
    &lt;ul&gt;&lt;slot name=&quot;item&quot;&gt;&lt;/slot&gt;&lt;/ul&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre>
        </div>
      </div>
      
      </div><ol>
<li><code>&lt;span slot=&quot;title&quot;&gt;</code> entra en <code>&lt;slot name=&quot;title&quot;&gt;</code>.</li>
<li>Hay muchos <code>&lt;li slot=&quot;item&quot;&gt;</code> en el <code>&lt;custom-menu&gt;</code>, pero solo un <code>&lt;slot name=&quot;item&quot;&gt;</code> en la plantilla. Así que todos esos <code>&lt;li slot=&quot;item&quot;&gt;</code> se añaden a  <code>&lt;slot name=&quot;item&quot;&gt;</code> uno tras otro, formando así la lista.</li>
</ol>
<p>El flattened DOM se convierte en:</p>
<div id="hk56qgzc15" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;custom-menu&gt;
  #shadow-root
    &lt;style&gt; /* estilos del menu */ &lt;/style&gt;
    &lt;div class=&quot;menu&quot;&gt;
      &lt;slot name=&quot;title&quot;&gt;
        &lt;span slot=&quot;title&quot;&gt;Menú de dulces&lt;/span&gt;
      &lt;/slot&gt;
      &lt;ul&gt;
        &lt;slot name=&quot;item&quot;&gt;
          &lt;li slot=&quot;item&quot;&gt;Paletas&lt;/li&gt;
          &lt;li slot=&quot;item&quot;&gt;Tostada de frutas&lt;/li&gt;
          &lt;li slot=&quot;item&quot;&gt;Magdalenas&lt;/li&gt;
        &lt;/slot&gt;
      &lt;/ul&gt;
    &lt;/div&gt;
&lt;/custom-menu&gt;</code></pre>
        </div>
      </div>
      
      </div><p>Uno podría notar que, en un DOM válido, <code>&lt;li&gt;</code> debe ser un hijo directo de <code>&lt;ul&gt;</code>. Pero esto es flattened DOM, describe cómo se representa el componente, tal cosa sucede naturalmente aquí.</p>
<p>Solo necesitamos agregar un manejador de <code>click</code> para abrir/cerrar la lista, y el <code>&lt;custom-menu&gt;</code> está listo:</p>
<div id="opttznhmwd" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code>customElements.define('custom-menu', class extends HTMLElement {
  connectedCallback() {
    this.attachShadow({mode: 'open'});

    // tmpl es la plantilla del shadow DOM (arriba)
    this.shadowRoot.append( tmpl.content.cloneNode(true) );

    // no podemos seleccionar nodos del light DOM, así que manejemos los clics en el slot
    this.shadowRoot.querySelector('slot[name=&quot;title&quot;]').onclick = () =&gt; {
      // abrir/cerrar el menú
      this.shadowRoot.querySelector('.menu').classList.toggle('closed');
    };
  }
});</code></pre>
        </div>
      </div>
      
      </div><p>Aquí está la demostración completa:</p>
<div class="code-result">
    <div class="code-result__toolbar toolbar"><div class="toolbar__tool">
        <a href="https://plnkr.co/edit/1XPEUbg7qFFMa0qv?p=preview" target="_blank" title="abrir en entorno controlado"
        data-plunk-id="1XPEUbg7qFFMa0qv" class="toolbar__button toolbar__button_edit"></a>
      </div>
      </div>
    <iframe class="code-result__iframe" data-trusted="1" style="height:140px" src="https://es.js.cx/article/slots-composition/menu/"></iframe>
  </div><p>Por supuesto, podemos agregarle más funcionalidad: eventos, métodos, etc.</p>
<h2><a class="main__anchor" name="actualizar-slots" href="#actualizar-slots">Actualizar slots</a></h2><p>¿Qué pasa si el código externo quiere agregar/eliminar elementos de menú dinámicamente?</p>
<p><strong>El navegador monitorea los slots y actualiza la representación si se agregan/eliminan elementos sloteados.</strong></p>
<p>Además, como los nodos del light DOM no se copian, sino que simplemente se renderizan en los slots, los cambios dentro de ellos se hacen visibles de inmediato.</p>
<p>Así que no tenemos que hacer nada para actualizar el renderizado. Pero si el código del componente quiere saber acerca de los cambios del slot, entonces el evento <code>slotchange</code> está disponible.</p>
<p>Por ejemplo, aquí el elemento del menú se inserta dinámicamente después de 1 segundo y el título cambia después de 2 segundos.:</p>
<div id="wr6ba44xw5" data-trusted="0" class="code-example" data-demo-height="80">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="mostrar" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="abrir en entorno controlado" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;custom-menu id=&quot;menu&quot;&gt;
  &lt;span slot=&quot;title&quot;&gt;Menú de dulces&lt;/span&gt;
&lt;/custom-menu&gt;

&lt;script&gt;
customElements.define('custom-menu', class extends HTMLElement {
  connectedCallback() {
    this.attachShadow({mode: 'open'});
    this.shadowRoot.innerHTML = `&lt;div class=&quot;menu&quot;&gt;
      &lt;slot name=&quot;title&quot;&gt;&lt;/slot&gt;
      &lt;ul&gt;&lt;slot name=&quot;item&quot;&gt;&lt;/slot&gt;&lt;/ul&gt;
    &lt;/div&gt;`;

    // shadowRoot no puede tener controladores de eventos, por lo que se usa el primer hijo
    this.shadowRoot.firstElementChild.addEventListener('slotchange',
      e =&gt; alert(&quot;slotchange: &quot; + e.target.name)
    );
  }
});

setTimeout(() =&gt; {
  menu.insertAdjacentHTML('beforeEnd', '&lt;li slot=&quot;item&quot;&gt;Paletas&lt;/li&gt;')
}, 1000);

setTimeout(() =&gt; {
  menu.querySelector('[slot=&quot;title&quot;]').innerHTML = &quot;Nuevo menú&quot;;
}, 2000);
&lt;/script&gt;</code></pre>
        </div>
      </div>
      
      </div><p>La representación del menú se actualiza cada vez sin nuestra intervención…</p>
<p>Hay dos eventos <code>slotchange</code> aquí:</p>
<ol>
<li>
<p>En la inicialización:</p>
<p><code>slotchange: title</code> se dispara inmediatamente, cuando el <code>slot=&quot;title&quot;</code> desde el light DOM entra en el slot correspondiente.</p>
</li>
<li>
<p>Después de 1 segundo:</p>
<p><code>slotchange: item</code> se activa, cuando se agrega un nuevo <code>&lt;li slot=&quot;item&quot;&gt;</code>.</p>
</li>
</ol>
<p>Observa que no hay ningún evento <code>slotchange</code> después de 2 segundos, cuando se modifica el contenido de <code>slot = &quot;title&quot;</code>. Eso es porque no hay cambio en el slot. Modificamos el contenido dentro del elemento esloteado, eso es otra cosa.</p>
<p>Si quisiéramos rastrear las modificaciones internas del Light DOM desde JavaScript, eso también es posible usando un mecanismo más genérico: <a href="mutation-observer.html">MutationObserver</a>.</p>
<h2><a class="main__anchor" name="slot-api" href="#slot-api">Slot API</a></h2><p>Finalmente, mencionemos los métodos JavaScript relacionados con los slots.</p>
<p>Como hemos visto antes, JavaScript busca en el DOM “real”, sin aplanar. Pero, si el shadow tree tiene <code>{mode: 'open'}</code>, podemos averiguar qué elementos hay asignados a un slot y, viceversa, averiguar el slot por el elemento dentro de el:</p>
<ul>
<li><code>node.assignedSlot</code> – retorna el elemento <code>&lt;slot&gt;</code> al que está asignado el <code>nodo</code>.</li>
<li><code>slot.assignedNodes({flatten: true/false})</code> – Nodos DOM, asignados al slot. La opción <code>flatten</code> es <code>false</code> por defecto. Si se establece explícitamente a <code>true</code>, entonces mira más profundamente en el flattened DOM, retornando slots anidadas en caso de componentes anidados y el contenido de respaldo si ningún node está asignado.</li>
<li><code>slot.assignedElements({flatten: true/false})</code> – Elementos DOM, asignados al slot (igual que arriba, pero solo nodos de elementos).</li>
</ul>
<p>Estos métodos son útiles cuando no solo necesitamos mostrar el contenido esloteado, sino también rastrearlo en JavaScript.</p>
<p>Por ejemplo, si el componente <code>&lt;custom-menu&gt;</code> quiere saber qué muestra, entonces podría rastrear <code>slotchange</code> y obtener los elementos de <code>slot.assignedElements</code>:</p>
<div id="mbu9rmcbgm" data-trusted="0" class="code-example" data-demo-height="120" data-highlight="[{&quot;start&quot;:18,&quot;end&quot;:24}]">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="mostrar" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="abrir en entorno controlado" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;custom-menu id=&quot;menu&quot;&gt;
  &lt;span slot=&quot;title&quot;&gt;Menú de dulces&lt;/span&gt;
  &lt;li slot=&quot;item&quot;&gt;Paletas&lt;/li&gt;
  &lt;li slot=&quot;item&quot;&gt;Tostada de frutas&lt;/li&gt;
&lt;/custom-menu&gt;

&lt;script&gt;
customElements.define('custom-menu', class extends HTMLElement {
  items = []

  connectedCallback() {
    this.attachShadow({mode: 'open'});
    this.shadowRoot.innerHTML = `&lt;div class=&quot;menu&quot;&gt;
      &lt;slot name=&quot;title&quot;&gt;&lt;/slot&gt;
      &lt;ul&gt;&lt;slot name=&quot;item&quot;&gt;&lt;/slot&gt;&lt;/ul&gt;
    &lt;/div&gt;`;

    // se activa cuando cambia el contenido del slot
    this.shadowRoot.firstElementChild.addEventListener('slotchange', e =&gt; {
      let slot = e.target;
      if (slot.name == 'item') {
        this.items = slot.assignedElements().map(elem =&gt; elem.textContent);
        alert(&quot;Items: &quot; + this.items);
      }
    });
  }
});

// se actualizan después de 1 segundo
setTimeout(() =&gt; {
  menu.insertAdjacentHTML('beforeEnd', '&lt;li slot=&quot;item&quot;&gt;Magdalenas&lt;/li&gt;')
}, 1000);
&lt;/script&gt;</code></pre>
        </div>
      </div>
      
      </div><h2><a class="main__anchor" name="resumen" href="#resumen">Resumen</a></h2><p>Por lo general, si un elemento tiene shadow DOM, no se muestra su light DOM. Los slots permiten mostrar elementos del light DOM en lugares específicos del shadow DOM.</p>
<p>Hay dos tipos de slots:</p>
<ul>
<li>Named slots: <code>&lt;slot name=&quot;X&quot;&gt;...&lt;/slot&gt;</code> – consigue los light children con <code>slot=&quot;X&quot;</code>.</li>
<li>Default slot: el primer <code>&lt;slot&gt;</code> sin un nombre (los slots subsiguientes sin nombre se ignoran) – obtiene light children sin slotear.</li>
<li>Si hay muchos elementos para el mismo slot, se añaden uno tras otro.</li>
<li>El contenido del elemento <code>&lt;slot&gt;</code> se utiliza como respaldo. Se muestra si no hay light children para el slot.</li>
</ul>
<p>El proceso de renderizar elementos sloteados dentro de sus slots se llama “composición”. El resultado se denomina “flattened DOM”.</p>
<p>La composición no mueve realmente los nodos, desde el punto de vista de JavaScript, el DOM sigue siendo el mismo.</p>
<p>JavaScript puede acceder a los slots mediante estos métodos:</p>
<ul>
<li><code>slot.assignedNodes/Elements()</code> – retorna nodos/elementos dentro del <code>slot</code>.</li>
<li><code>node.assignedSlot</code> – la propiedad inversa, retorna el slot por un nodo.</li>
</ul>
<p>Si queremos saber, podemos rastrear el contenido de los slots usando:</p>
<ul>
<li><code>slotchange</code> event – se activa la primera vez que se llena un slot, y en cualquier operación de agregar/quitar/reemplazar del elemento esloteado, pero no sus hijos. El slot es <code>event.target</code>.</li>
<li><a href="mutation-observer.html">MutationObserver</a> para profundizar en el contenido del slot, observar los cambios en su interior.</li>
</ul>
<p>Ahora que, como sabemos cómo mostrar elementos del light DOM en el shadow DOM, veamos cómo diseñarlos correctamente. La regla básica es que los elementos shadow se diseñan en el interior y los elementos light se diseñan afuera, pero hay notables excepciones.</p>
<p>Veremos los detalles en el próximo capítulo.</p>
</div></article></div><div class="page__nav-wrap"><a class="page__nav page__nav_prev" href="template-element.html" data-tooltip="Elemento template"><span class="page__nav-text"><span class="page__nav-text-shortcut"></span></span><span class="page__nav-text-alternate">Lección anterior</span></a><a class="page__nav page__nav_next" href="shadow-dom-style.html" data-tooltip="Estilo Shadow DOM"><span class="page__nav-text"><span class="page__nav-text-shortcut"></span></span><span class="page__nav-text-alternate">Próxima lección</span></a></div><div class="article-tablet-foot tablet-only"><div class="article-tablet-foot__layout"><div class="share-icons"><span class="share-icons__title">Compartir</span><a class="share share_tw" href="https://twitter.com/share?url=https%3A%2F%2Fes.javascript.info%2Fslots-composition" rel="nofollow"></a><a class="share share_fb" href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p%5Burl%5D=https%3A%2F%2Fes.javascript.info%2Fslots-composition" rel="nofollow"></a></div><div class="article-tablet-foot__map"><a class="map" href="tutorial/map.html" data-action="tutorial-map"><span class="map__text">Mapa del Tutorial</span></a></div></div></div><div class="comments formatted" id="comments"><div class="comments__header"><h2 class="comments__header-title"><a href="#comments" name="comments">Comentarios</a></h2><div class="comments__read-before"><span class="comments__read-before-link">lea esto antes de comentar…</span><div class="comments__read-before-popup"><div class="comments__read-before-popup-i"><ul><li>Si tiene sugerencias sobre qué mejorar, por favor <a href="https://github.com/javascript-tutorial/en.javascript.info/issues/new">enviar una propuesta de GitHub</a> o una solicitud de extracción en lugar de comentar.</li><li>Si no puede entender algo en el artículo, por favor explique.</li><li>Para insertar algunas palabras de código, use la etiqueta <code>&lt;code&gt;</code>, para varias líneas – envolverlas en la etiqueta <code>&lt;pre&gt;</code>, para más de 10 líneas – utilice una entorno controlado (sandbox) (<a href='https://plnkr.co/edit/?p=preview'>plnkr</a>, <a href='https://jsbin.com/'>jsbin</a>, <a href='http://codepen.io/'>codepen</a>…)</li></ul></div></div></div></div><div id="disqus_thread"></div><script>var disqus_config = function() { if (!this.page) this.page = {}; Object.assign(this.page, {"url":"https:\/\/es.javascript.info\/slots-composition","identifier":"\/slots-composition"}); };</script><script>var disqus_shortname = "es-javascript-info";</script><script>var disqus_enabled = true;</script></div></main></div><div class="sidebar page__sidebar sidebar sidebar_sticky-footer"><button class="sidebar__toggle" data-sidebar-toggle></button><a class="map" href="tutorial/map.html" data-action="tutorial-map" data-tooltip="Mapa del Tutorial"></a><div class="sidebar__inner"><div class="sidebar__content"><div class="sidebar__section"><h4 class="sidebar__section-title">Capítulo</h4><nav class="sidebar__navigation"><ul class="sidebar__navigation-links"><li class="sidebar__navigation-link"><a class="sidebar__link" href="web-components.html">Componentes Web</a></li></ul></nav></div><div class="sidebar__section"><h4 class="sidebar__section-title">Navegación de lección</h4><nav class="sidebar__navigation"><ul class="sidebar__navigation-links"><li class="sidebar__navigation-link"><a class="sidebar__link" href="#slots-con-nombres">Slots con nombres</a></li><li class="sidebar__navigation-link"><a class="sidebar__link" href="#slot-con-contenido-alternativo">Slot con contenido alternativo</a></li><li class="sidebar__navigation-link"><a class="sidebar__link" href="#slot-predeterminado-el-primero-sin-nombre">Slot predeterminado: el primero sin nombre</a></li><li class="sidebar__navigation-link"><a class="sidebar__link" href="#ejemplo-de-menu">Ejemplo de menú</a></li><li class="sidebar__navigation-link"><a class="sidebar__link" href="#actualizar-slots">Actualizar slots</a></li><li class="sidebar__navigation-link"><a class="sidebar__link" href="#slot-api">Slot API</a></li><li class="sidebar__navigation-link"><a class="sidebar__link" href="#resumen">Resumen</a></li></ul></nav></div><div class="sidebar__section"><nav class="sidebar__navigation"><ul class="sidebar__navigation-links"><li class="sidebar__navigation-link"><a class="sidebar__link" href="#comments">Comentarios</a></li></ul></nav></div><div class="sidebar__section"><div class="sidebar__section-title">Compartir</div><a class="share share_tw sidebar__share" href="https://twitter.com/share?url=https%3A%2F%2Fes.javascript.info%2Fslots-composition" rel="nofollow"></a><a class="share share_fb sidebar__share" href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p[url]=https%3A%2F%2Fes.javascript.info%2Fslots-composition" rel="nofollow"></a></div><div class="sidebar__section"><a class="sidebar__link" href="https://github.com/javascript-tutorial/es.javascript.info/blob/master/8-web-components/5-slots-composition" rel="nofollow">Editar en GitHub</a></div></div></div></div></div></div><div class="page-footer"><ul class="page-footer__list"><li class="page-footer__item page-footer__item_copy">©&nbsp;2007—2023&nbsp; Ilya Kantor</li><li class="page-footer__item page-footer__item_about"><a class="page-footer__link" href="about.html">acerca del proyecto</a></li><li class="page-footer__item page-footer__item_contact"><a class="page-footer__link" href="about.html#contact-us">contáctenos</a></li></ul></div></body>
<!-- Mirrored from es.javascript.info/slots-composition by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 07 Feb 2023 21:14:58 GMT -->
</html>