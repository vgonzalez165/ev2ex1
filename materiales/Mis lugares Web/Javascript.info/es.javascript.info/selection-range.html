<!DOCTYPE html><html lang="es" data-theme-enabled="1">
<!-- Mirrored from es.javascript.info/selection-range by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 07 Feb 2023 21:14:37 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><script>window.currentUser = null;</script><script>window.shopCurrency = "EUR";</script><script>window.localCurrency = "EUR";</script><script>window.countryCode = "es";</script><script>window.rateShopTo = {"EUR":1,"USD":1.0766800785115114,"AMD":432.27119525485557};</script><title itemprop="name">Selection y Range</title><link href="pack/styles.40bd864cfdb7b5d1a94b.css" rel="stylesheet"><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes, minimum-scale=1.0"><meta name="apple-mobile-web-app-capable" content="yes"><!-- chrome autotranslate is enabled only for "en" main version--><meta name="google" content="notranslate"><script>if (window.devicePixelRatio > 1) document.cookie = 'pixelRatio=' + window.devicePixelRatio + ';path=/;expires=Tue, 19 Jan 2038 03:14:07 GMT';</script><link href="http://fonts.googleapis.com/css?family=Open+Sans:bold,italic,bolditalic" rel="stylesheet"><link rel="apple-touch-icon-precomposed" href="img/favicon/apple-touch-icon-precomposed.png"><link rel="canonical" href="selection-range.html"><meta name="msapplication-TileColor" content="#222A2C"><meta name="msapplication-TileImage" content="/img/favicon/tileicon.png"><link rel="icon" href="img/favicon/favicon.png"><meta itemprop="image" content="https://es.javascript.info/img/site_preview_en_512x512.png"><meta property="og:title" content="Selection y Range"><meta property="og:image" content="https://es.javascript.info/img/site_preview_en_1200x630.png"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta property="fb:admins" content="100001562528165"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Selection y Range"><meta name="twitter:site" content="@iliakan"><meta name="twitter:creator" content="@iliakan"><meta name="twitter:image" content="https://es.javascript.info/img/site_preview_en_512x512.png"><link rel="prev" href="mutation-observer.html"><link rel="next" href="event-loop.html"><script>window.GA_ID = "UA-2056213-15";</script><script>window.YANDEX_METRIKA_ID = 32184394;</script><script>window.GoogleAnalyticsObject="ga",window.ga=function(){window.ga.q.push(arguments)},window.ga.q=[],window.ga.l=Date.now(),ga("create",GA_ID,"auto"),window.GTM_ID&&ga("require",GTM_ID),window.currentUser?ga("set","&uid",currentUser.id):ga("set","anonymizeIp",!0),window.addEventListener("error",function(e){var r=(e.filename||e.errorUrl)+": "+(e.lineno||e.errorLine),n=e.stack||e.error&&e.error.stack;ga("send","exception",{exDescription:e.message+" "+r+" "+n,exFatal:!0})});</script><script src="../www.google-analytics.com/analytics.js" async></script><script>ga('send', 'pageview');</script><script>window.metrika={reachGoal:function(){}},window.yandex_metrika_callbacks=[function(){try{window.metrika=new Ya.Metrika({id:YANDEX_METRIKA_ID,webvisor:!0,clickmap:!0,params:{user:window.currentUser&&window.currentUser.id}}),metrika.trackLinks({delay:150}),window.addEventListener("error",function(r){window.metrika.reachGoal("JSERROR",{src:(r.filename||r.errorUrl)+": "+(r.lineno||r.errorLine),stack:r.stack||r.error&&r.error.stack,message:r.message})})}catch(r){}}];</script><script src="../mc.yandex.ru/metrika/watch.js" async></script><script>window.RECAPTCHA_ID = "6LfmLAEVAAAAAJMykMnf7aY8nkyTRmYi2ynx51R1";</script><script src="pack/init.da0cbf9711553523e21d.js"></script><script src="pack/head.d82dc89d7b800e91179f.js" defer></script><link rel='stylesheet' href='../es.js.cx/libs/domtree.css'>
<script src="../cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
<script src="../es.js.cx/libs/domtree.js"></script><meta property="og:title" content="Selection y Range"><meta property="og:type" content="article"><script src="pack/tutorial.7967275b5846db2d02db.js" defer></script><script src="pack/footer.378d5659c5f335e3ee99.js" defer></script></head><body class="no-icons"><script>window.fontTest();</script><div class="page-wrapper page-wrapper_sidebar_on"><!--[if IE]><div style="color:red;text-align:center">Lo sentimos, Internet Explorer no es compatible. Utilice un navegador más nuevo.</div><![endif]--><div class="sitetoolbar sitetoolbar_tutorial"><script>window.langs = [{"code":"ar","name":"Arabic"},{"code":"az","name":"Azerbaijani"},{"code":"bg","name":"Bulgarian"},{"code":"bn","name":"Bengali"},{"code":"bs","name":"Bosnian"},{"code":"ca","name":"Catalan"},{"code":"cs","name":"Czech"},{"code":"da","name":"Danish"},{"code":"de","name":"German"},{"code":"el","name":"Greek"},{"code":"en","name":"English"},{"code":"es","name":"Spanish"},{"code":"fa","name":"Persian (Farsi)"},{"code":"fi","name":"Finnish"},{"code":"fr","name":"French"},{"code":"he","name":"Hebrew"},{"code":"hi","name":"Hindi"},{"code":"hr","name":"Croatian"},{"code":"hu","name":"Hungarian"},{"code":"hy","name":"Armenian"},{"code":"id","name":"Indonesian"},{"code":"it","name":"Italian"},{"code":"ja","name":"Japanese"},{"code":"ka","name":"Georgian"},{"code":"kk","name":"Kazakh"},{"code":"km","name":"Central Khmer"},{"code":"ko","name":"Korean"},{"code":"ky","name":"Kyrgyz"},{"code":"lt","name":"Lithuanian"},{"code":"me","name":"Montenegrin"},{"code":"ml","name":"Malayalam"},{"code":"ms","name":"Malay"},{"code":"my","name":"Burmese"},{"code":"nl","name":"Dutch"},{"code":"no","name":"Norvegian"},{"code":"pa","name":"Punjabi"},{"code":"pl","name":"Polish"},{"code":"pt","name":"Portuguese"},{"code":"ro","name":"Romanian"},{"code":"ru","name":"Russian"},{"code":"si","name":"Sinhala"},{"code":"sk","name":"Slovak"},{"code":"sl","name":"Slovenian"},{"code":"sq","name":"Albanian"},{"code":"sr","name":"Serbian"},{"code":"ta","name":"Tamil"},{"code":"te","name":"Telugu"},{"code":"test","name":"Test"},{"code":"th","name":"Thai"},{"code":"tk","name":"Turkmen"},{"code":"tr","name":"Turkish"},{"code":"uk","name":"Ukrainian"},{"code":"ur","name":"Urdu"},{"code":"uz","name":"Uzbek"},{"code":"v2","name":"v2"},{"code":"vi","name":"Vietnamese"},{"code":"zh-hant","name":"Chinese Traditional"},{"code":"zh","name":"Chinese"}];</script><script>window.lang = "es";</script><script>{let t=navigator.languages||[];t=t.map(t=>t.toLowerCase());let o,i,n=[];for(let o of window.langs)for(let i of t)if(i===o.code||i.startsWith(o.code+"-")){n.push(o);break}if(!o&&"ru"!=lang&&"en"!=lang){n.find(t=>"en"==t.code)&&(o=`\n            According to your browser headers, you know English. Please help to <a href="https://github.com/javascript-tutorial/${lang}.javascript.info#readme">translate the tutorial</a>.\n            Thank you!\n          `,i="notify-translate-tutorial-local")}if(o){let t=`<div class="notification notification_top notification_info sitetoolbar__notification" style="display:none" id="${i}">\n          <div class="notification__content">${o}</div>\n          <button class="notification__close" title="Close"></button>\n        </div>`;document.write(t),showTopNotification()}}</script><div class="sitetoolbar__content"><div class="sitetoolbar__lang-switcher"><button class="sitetoolbar__dropdown-button" data-dropdown-toggler>ES</button><div class="sitetoolbar__dropdown-wrap"><div class="sitetoolbar__dropdown-body"><div class="sitetoolbar__lang-switcher-body"><div class="supported-langs supported-langs_toolbar"><div class="supported-langs__container"><ul class="supported-langs__list" style="height:200px"><li class="supported-langs__item"><a class="supported-langs__link" href="https://ar.javascript.info/"><span class="supported-langs__brief">AR</span><span class="supported-langs__title">عربي</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://javascript.info/selection-range"><span class="supported-langs__brief">EN</span><span class="supported-langs__title">English</span></a></li><li class="supported-langs__item supported-langs__item_current"><a class="supported-langs__link" href="selection-range.html"><span class="supported-langs__brief">ES</span><span class="supported-langs__title">Español</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://fa.javascript.info/"><span class="supported-langs__brief">FA</span><span class="supported-langs__title">فارسی</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://fr.javascript.info/selection-range"><span class="supported-langs__brief">FR</span><span class="supported-langs__title">Français</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://id.javascript.info/"><span class="supported-langs__brief">ID</span><span class="supported-langs__title">Indonesia</span></a></li></ul><ul class="supported-langs__list" style="height:200px"><li class="supported-langs__item"><a class="supported-langs__link" href="https://it.javascript.info/selection-range"><span class="supported-langs__brief">IT</span><span class="supported-langs__title">Italiano</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://ja.javascript.info/selection-range"><span class="supported-langs__brief">JA</span><span class="supported-langs__title">日本語</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://ko.javascript.info/selection-range"><span class="supported-langs__brief">KO</span><span class="supported-langs__title">한국어</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://learn.javascript.ru/selection-range"><span class="supported-langs__brief">RU</span><span class="supported-langs__title">Русский</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://tr.javascript.info/"><span class="supported-langs__brief">TR</span><span class="supported-langs__title">Türkçe</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://uk.javascript.info/"><span class="supported-langs__brief">UK</span><span class="supported-langs__title">Українська</span></a></li></ul><ul class="supported-langs__list" style="height:20px"><li class="supported-langs__item"><a class="supported-langs__link" href="https://zh.javascript.info/selection-range"><span class="supported-langs__brief">ZH</span><span class="supported-langs__title">简体中文</span></a></li></ul></div><div class="supported-langs__text"><p>Queremos que este proyecto de código abierto esté disponible para personas de todo el mundo.</p> <p><a href="https://javascript.info/translate">Ayuda a traducir</a> el contenido de este tutorial a tu idioma!</p>
</div></div></div></div></div></div><div class="sitetoolbar__logo-wrap"><a class="sitetoolbar__link sitetoolbar__link_logo" href="index.html"><img class="sitetoolbar__logo sitetoolbar__logo_normal" src="img/sitetoolbar__logo_en.svg" width="200" alt="" role="presentation"/><img class="sitetoolbar__logo sitetoolbar__logo_normal sitetoolbar__logo_dark" src="img/sitetoolbar__logo_en-white.svg" width="200" alt="" role="presentation"/><img class="sitetoolbar__logo sitetoolbar__logo_small" src="img/sitetoolbar__logo_small_en.svg" width="70" alt="" role="presentation"/><img class="sitetoolbar__logo sitetoolbar__logo_small sitetoolbar__logo_dark" src="img/sitetoolbar__logo_small_en-white.svg" width="70" alt="" role="presentation"/><script>Array.prototype.forEach.call(document.querySelectorAll("img.sitetoolbar__logo"),function(e){let t=document.createElement("object");t.type="image/svg+xml",t.className=e.className,t.style.cssText="left:0;top:0;position:absolute",t.onload=function(){t.onload=null,e.style.visibility="hidden"},t.data=e.src,e.parentNode.insertBefore(t,e)});</script></a></div><div class="sitetoolbar__nav-toggle-wrap"><button class="sitetoolbar__nav-toggle" type="button"></button></div><nav class="sitetoolbar__sections"><ul class="sitetoolbar__sections-list"></ul></nav><div class="sitetoolbar__book-wrap"><a class="buy-book-button" href="ebook.html"><span class="buy-book-button__extra-text">Comprar</span>EPUB/PDF</a></div><div class="sitetoolbar__theme-switcher"><div class="theme-changer"><label class="theme-changer__label" for="theme-changer-input" data-tooltip="Change theme"><input class="theme-changer__input" type="checkbox" id="theme-changer-input" data-theme-changer="data-theme-changer"/><span class="theme-changer__icon theme-changer__icon_light-theme"></span><span class="theme-changer__icon theme-changer__icon_dark-theme"></span></label></div></div><div class="sitetoolbar__search-wrap"><div class="sitetoolbar__search-content"><button class="sitetoolbar__search-toggle" type="button"></button><form class="sitetoolbar__search" method="GET" action="https://es.javascript.info/search"><div class="sitetoolbar__search-input"><div class="text-input"><input class="text-input__control" name="query" placeholder="Buscar en Javascript.info" required="required" type="text"/></div><button class="sitetoolbar__find" type="submit">Buscar</button></div></form></div></div></div><div class="tablet-menu"><div class="tablet-menu__line"><div class="tablet-menu__content"><form class="tablet-menu-search" action="https://es.javascript.info/search/"><input class="tablet-menu-search__input" type="search" name="query" placeholder="Buscar en el tutorial" required="required"/><button class="tablet-menu-search__button" type="submit" name="type" value="articles">Buscar</button></form></div></div><div class="tablet-menu__line"><div class="tablet-menu__content"><a class="map" href="tutorial/map.html" data-action="tutorial-map"><span class="map__text">Mapa del Tutorial</span></a></div></div><div class="tablet-menu__line"><div class="tablet-menu__content"><div class="theme-changer theme-changer_tablet-menu theme-changer_has-label"><label class="theme-changer__label" for="theme-changer-input-tablet" data-tooltip="Change theme"><input class="theme-changer__input" type="checkbox" id="theme-changer-input-tablet" data-theme-changer="data-theme-changer"/><span class="theme-changer__icon theme-changer__icon_light-theme"></span><span class="theme-changer__icon theme-changer__icon_dark-theme"></span><span class="theme-changer__label-text theme-changer__label-text_light-theme">Light theme</span><span class="theme-changer__label-text theme-changer__label-text_dark-theme">Dark theme</span></label></div></div></div><div class="tablet-menu__line"><div class="tablet-menu__content"><div class="share-icons"><span class="share-icons__title">Compartir</span><a class="share share_tw" href="https://twitter.com/share?url=https%3A%2F%2Fes.javascript.info%2Fselection-range" rel="nofollow"></a><a class="share share_fb" href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p%5Burl%5D=https%3A%2F%2Fes.javascript.info%2Fselection-range" rel="nofollow"></a></div></div></div><div class="tablet-menu__line"><div class="tablet-menu__content"><select class="tablet-menu__nav input-select input-select input-select_small" onchange="if(this.value) window.location.href=this.value"><option value="https://ar.javascript.info/">عربي</option><option value="https://javascript.info/selection-range">English</option><option value="https://es.javascript.info/selection-range" selected>Español</option><option value="https://fa.javascript.info/">فارسی</option><option value="https://fr.javascript.info/selection-range">Français</option><option value="https://id.javascript.info/">Indonesia</option><option value="https://it.javascript.info/selection-range">Italiano</option><option value="https://ja.javascript.info/selection-range">日本語</option><option value="https://ko.javascript.info/selection-range">한국어</option><option value="https://learn.javascript.ru/selection-range">Русский</option><option value="https://tr.javascript.info/">Türkçe</option><option value="https://uk.javascript.info/">Українська</option><option value="https://zh.javascript.info/selection-range">简体中文</option></select></div></div></div><progress class="tutorial-progress" data-sticky value="31" max="32" data-tooltip="Lección 31 de 32"></progress></div><div class="page page_sidebar_on page_inner_padding"><script>if(localStorage.noSidebar){document.querySelector(".page").classList.remove("page_sidebar_on");let e=document.querySelector(".page-wrapper");e&&e.classList.remove("page-wrapper_sidebar_on")}setTimeout(function(){document.querySelector(".page").classList.add("page_sidebar-animation-on")});</script><div class="page__inner"><main class="main main_width-limit"><header class="main__header"><div class="main__header-inner"><div class="main__header-group"><ol class="breadcrumbs"><li class="breadcrumbs__item breadcrumbs__item_home"><a class="breadcrumbs__link" href="index.html"><span class="breadcrumbs__hidden-text">Tutorial</span></a></li><li class="breadcrumbs__item" id="breadcrumb-1"><a class="breadcrumbs__link" href="ui.html"><span>El navegador: Documentos, Eventos e Interfaces</span></a></li><li class="breadcrumbs__item" id="breadcrumb-2"><a class="breadcrumbs__link" href="ui-misc.html"><span>Temas diversos</span></a></li><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Tutorial","item":"https://es.javascript.info/"},{"@type":"ListItem","position":2,"name":"El navegador: Documentos, Eventos e Interfaces","item":"https://es.javascript.info/ui"},{"@type":"ListItem","position":3,"name":"Temas diversos","item":"https://es.javascript.info/ui-misc"}]}</script></ol><div class="updated-at" data-tooltip="Última actualización el 15 de noviembre de 2022"><div class="updated-at__content">15 de noviembre de 2022</div></div></div><h1 class="main__header-title">Selection y Range</h1></div></header><div class="content"><article class="formatted" itemscope itemtype="http://schema.org/TechArticle"><meta itemprop="name" content="Selection y Range"><div itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="email" content="iliakan@gmail.com"><meta itemprop="name" content="Ilya Kantor"></div><div itemprop="articleBody"><p>En este capítulo cubriremos la selección en el documento, así como la selección en campos de formulario, como <code>&lt;input&gt;</code>.</p>
<p>JavaScript puede acceder una selección existente, seleccionar/deseleccionar nodos DOM tanto en su totalidad como parcialmente, eliminar la parte seleccionada del documento, envolverla en una etiqueta, etc.</p>
<p>Puedes encontrar algunas recetas para tareas comunes al final del artículo, en la sección “Resumen”. Pero será mucho más beneficiosa la lectura de todo el capítulo.</p>
<p>Los objetos subyacentes <code>Range</code> y <code>Selection</code> son fáciles de captar y no necesitarás recetas para que hagan lo que deseas.</p>
<h2><a class="main__anchor" name="range" href="#range">Range</a></h2><p>El concepto básico de selección <a href="https://dom.spec.whatwg.org/#ranges">Range</a>, es básicamente un par de “puntos límite”: inicio y fin del rango.</p>
<p>Un objeto rango se crea sin parámetros:</p>
<div id="lkm9x6odu1" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code>let range = new Range();</code></pre>
        </div>
      </div>
      
      </div><p>Entonces podemos establecer los límites de selección usando <code>range.setStart(node, offset)</code> y <code>range.setEnd(node, offset)</code>.</p>
<p>En adelante usaremos objetos <code>Range</code> para selección, pero primero creemos algunos de ellos.</p>
<h3><a class="main__anchor" name="seleccionando-el-texto-parcialmente" href="#seleccionando-el-texto-parcialmente">Seleccionando el texto parcialmente</a></h3><p>Lo interesante es que el primer argumento <code>node</code> en ambos métodos puede ser tanto un nodo de texto o un nodo de elemento, y el significado del segundo argumento depende de ello.</p>
<p><strong>Si <code>node</code> es un nodo de texto, <code>offset</code> debe ser la posición en su texto.</strong></p>
<p>Por ejemplo, dado el elemento <code>&lt;p&gt;Hello&lt;/p&gt;</code>, podemos crear el rango conteniendo las letras “ll”:</p>
<div id="5au9tmcwwj" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="mostrar" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="abrir en entorno controlado" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;p id=&quot;p&quot;&gt;Hello&lt;/p&gt;
&lt;script&gt;
  let range = new Range();
  range.setStart(p.firstChild, 2);
  range.setEnd(p.firstChild, 4);

  // toString de un rango devuelve su contenido como un texto
  console.log(range); // ll
&lt;/script&gt;</code></pre>
        </div>
      </div>
      
      </div><p>Aquí tomamos el primer hijo de <code>&lt;p&gt;</code> (que es el nodo de texto) y especificamos la posición del texto dentro de él:</p>
<figure><div class="image" style="width:147px">
      <div class="image__ratio" style="padding-top:54.421768707483%"></div>
      <object type="image/svg+xml" data="article/selection-range/range-hello-1.svg" width="147" height="80" class="image__image" data-use-theme>
        <img src="article/selection-range/range-hello-1.svg" alt="" width="147" height="80">
      </object>
      </div></figure><h3><a class="main__anchor" name="seleccionando-nodos-de-elemento" href="#seleccionando-nodos-de-elemento">Seleccionando nodos de elemento</a></h3><p><strong>Alternativamente, si <code>node</code> es un nodo de elemento, <code>offset</code> debe ser el número de hijo.</strong></p>
<p>Esto es práctico para hacer rangos que contienen nodos como un todo, no detenerse en algún lugar dentro de su texto.</p>
<p>Por ejemplo, tenemos un fragmento de documento más complejo:</p>
<div id="0p8w1qac23" data-trusted="1" class="code-example" data-autorun="true">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;p id=&quot;p&quot;&gt;Example: &lt;i&gt;italic&lt;/i&gt; and &lt;b&gt;bold&lt;/b&gt;&lt;/p&gt;</code></pre>
        </div>
      </div>
      <div class="code-result code-example__result">
          <iframe
            class="code-result__iframe"
            name="test-0p8w1qac23"
            style="height:200px"
            src="about:blank"></iframe>
        </div>
      </div><p>Aquí está su estructura DOM usando ambos, nodos de texto y nodos de elemento:</p>
<div class="select-p-domtree"></div>
<script>
let selectPDomtree = {
  "name": "P",
  "nodeType": 1,
  "children": [{
    "name": "#text",
    "nodeType": 3,
    "content": "Example: "
  }, {
    "name": "I",
    "nodeType": 1,
    "children": [{
      "name": "#text",
      "nodeType": 3,
      "content": "italic"
    }]
  }, {
    "name": "#text",
    "nodeType": 3,
    "content": " and "
  }, {
    "name": "B",
    "nodeType": 1,
    "children": [{
      "name": "#text",
      "nodeType": 3,
      "content": "bold"
    }]
  }]
}

drawHtmlTree(selectPDomtree, 'div.select-p-domtree', 690, 320);
</script>
<p>Hagamos un rango para <code>&quot;Example: &lt;i&gt;italic&lt;/i&gt;&quot;</code>.</p>
<p>Como podemos ver, esta frase consiste de exactamente dos hijos de <code>&lt;p&gt;</code> con índices <code>0</code> y <code>1</code>:</p>
<figure><div class="image" style="width:640px">
      <div class="image__ratio" style="padding-top:13.90625%"></div>
      <object type="image/svg+xml" data="article/selection-range/range-example-p-0-1.svg" width="640" height="89" class="image__image" data-use-theme>
        <img src="article/selection-range/range-example-p-0-1.svg" alt="" width="640" height="89">
      </object>
      </div></figure><ul>
<li>El punto de inicio tiene <code>&lt;p&gt;</code> como nodo padre <code>node</code>, y <code>0</code> como offset.</li>
</ul>
<p>Así que podemos establecerlo como <code>range.setStart(p, 0)</code>.</p>
<ul>
<li>
<p>El punto final también tiene <code>&lt;p&gt;</code> como nodo padre, but <code>2</code> como offset (especifica el rango “hasta”, pero no incluyendo, <code>offset</code>).</p>
<p>Entonces podemos establecerlo como <code>range.setEnd(p, 2)</code>.</p>
</li>
</ul>
<p>Aquí la demo. Si la ejeutas, puedes ver el texto siendo seleccionado::</p>
<div id="fwbvnj6h3b" data-trusted="1" class="code-example" data-highlight="[{&quot;start&quot;:3,&quot;end&quot;:6}]">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="mostrar" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="abrir en entorno controlado" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;p id=&quot;p&quot;&gt;Example: &lt;i&gt;italic&lt;/i&gt; and &lt;b&gt;bold&lt;/b&gt;&lt;/p&gt;

&lt;script&gt;
  let range = new Range();

  range.setStart(p, 0);
  range.setEnd(p, 2);

 // toString de un rango devuelve su contenido como texto (sin etiquetas)
  alert(range); // Ejemplo: italic

  // aplicar este rango para la selección de documentos (explicado más adelante)
  document.getSelection().addRange(range);
&lt;/script&gt;</code></pre>
        </div>
      </div>
      
      </div><p>Aquí hay un banco de pruebas más flexible donde puedes establecer números de principio y fin y explorar otras variantes:</p>
<div id="v4uijqcoag" data-trusted="1" class="code-example" data-highlight="[{&quot;start&quot;:6,&quot;end&quot;:9}]" data-autorun="true">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="mostrar" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="abrir en entorno controlado" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;p id=&quot;p&quot;&gt;Example: &lt;i&gt;italic&lt;/i&gt; and &lt;b&gt;bold&lt;/b&gt;&lt;/p&gt;

From &lt;input id=&quot;start&quot; type=&quot;number&quot; value=1&gt; – To &lt;input id=&quot;end&quot; type=&quot;number&quot; value=4&gt;
&lt;button id=&quot;button&quot;&gt;Click to select&lt;/button&gt;
&lt;script&gt;
  button.onclick = () =&gt; {
    let range = new Range();

    range.setStart(p, start.value);
    range.setEnd(p, end.value);

    // aplicar la selección, explicado más adelante
    document.getSelection().removeAllRanges();
    document.getSelection().addRange(range);
  };
&lt;/script&gt;</code></pre>
        </div>
      </div>
      <div class="code-result code-example__result">
          <iframe
            class="code-result__iframe"
            name="test-v4uijqcoag"
            style="height:200px"
            src="about:blank"></iframe>
        </div>
      </div><p>Ej. seleccionando de <code>1</code> a <code>4</code> da como rango <code>&lt;i&gt;italic&lt;/i&gt; and &lt;b&gt;bold&lt;/b&gt;</code>.</p>
<figure><div class="image" style="width:640px">
      <div class="image__ratio" style="padding-top:13.90625%"></div>
      <object type="image/svg+xml" data="article/selection-range/range-example-p-1-3.svg" width="640" height="89" class="image__image" data-use-theme>
        <img src="article/selection-range/range-example-p-1-3.svg" alt="" width="640" height="89">
      </object>
      </div></figure><div class="important important_smart">
            <div class="important__header"><span class="important__type">Los nodos de inicio y final pueden ser diferentes</span></div>
            <div class="important__content"><p>No tenemos que usar el mismo nodo en <code>setStart</code> y <code>setEnd</code>. Un rango puede abarcar muchos nodos no relacionados. Solo es importante que el final sea posterior al comienzo.</p>
</div></div>
<h3><a class="main__anchor" name="seleccionar-partes-de-nodos-de-texto" href="#seleccionar-partes-de-nodos-de-texto">Seleccionar partes de nodos de texto</a></h3><p>Seleccionemos el texto parcialmente, así:</p>
<figure><div class="image" style="width:640px">
      <div class="image__ratio" style="padding-top:13.90625%"></div>
      <object type="image/svg+xml" data="article/selection-range/range-example-p-2-b-3.svg" width="640" height="89" class="image__image" data-use-theme>
        <img src="article/selection-range/range-example-p-2-b-3.svg" alt="" width="640" height="89">
      </object>
      </div></figure><p>Eso también es posible, solo necesitamos establecer el inicio y el final como un desplazamiento relativo en los nodos de texto.</p>
<p>Necesitamos crear un rango, que:</p>
<ul>
<li>comienza desde la posición 2 en <code>&lt;p&gt;</code> primer hijo (tomando todas menos dos primeras letras de “Ex<b>ample:</b>”)</li>
<li>termina en la posición 3 de <code>&lt;b&gt;</code> primer hijo (tomando las primeras tres letras de “<b>bol</b>d”, pero no más):</li>
</ul>
<div id="1adqhu7fi4" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="mostrar" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="abrir en entorno controlado" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;p id=&quot;p&quot;&gt;Example: &lt;i&gt;italic&lt;/i&gt; and &lt;b&gt;bold&lt;/b&gt;&lt;/p&gt;

&lt;script&gt;
  let range = new Range();

  range.setStart(p.firstChild, 2);
  range.setEnd(p.querySelector('b').firstChild, 3);

  alert(range); // amplio: italic and bol

  // use este rango para la selección (explicado más adelante)
  window.getSelection().addRange(range);
&lt;/script&gt;</code></pre>
        </div>
      </div>
      
      </div><p>Como puedes ver, es fácil hacer un rango con lo que quieras.</p>
<p>Si queremos tomar los nodos como un todo, podemos pasar los elementos en <code>setStart/setEnd</code>. Si no, podemos trabajar en el nivel de texto.</p>
<h2><a class="main__anchor" name="propiedades-de-range" href="#propiedades-de-range">Propiedades de Range</a></h2><p>El objeto rango que creamos arriba tiene las siguientes propiedades:</p>
<figure><div class="image" style="width:683px">
      <div class="image__ratio" style="padding-top:33.52855051244509%"></div>
      <object type="image/svg+xml" data="article/selection-range/range-example-p-2-b-3-range.svg" width="683" height="229" class="image__image" data-use-theme>
        <img src="article/selection-range/range-example-p-2-b-3-range.svg" alt="" width="683" height="229">
      </object>
      </div></figure><ul>
<li><code>startContainer</code>, <code>startOffset</code> – nodo y desplazamiento del inicio,
<ul>
<li>en el ejemplo anterior: primer nodo de texto dentro de <code>&lt;p&gt;</code> y <code>2</code>.</li>
</ul>
</li>
<li><code>endContainer</code>, <code>endOffset</code> – nodo y desplazamiento del final,
<ul>
<li>en el ejemplo anterior: primer nodo de texto dentro de <code>&lt;b&gt;</code> y <code>3</code>.</li>
</ul>
</li>
<li><code>collapsed</code> – booleano, <code>true</code> si el rango comienza y termina en el mismo punto (por lo que no hay contenido dentro del rango),
<ul>
<li>en el ejemplo anterior: <code>false</code></li>
</ul>
</li>
<li><code>commonAncestorContainer</code> – el ancestro común más cercano de todos los nodos dentro del rango,
<ul>
<li>en el ejemplo anterior: <code>&lt;p&gt;</code></li>
</ul>
</li>
</ul>
<h2><a class="main__anchor" name="metodos-de-seleccion-de-rango" href="#metodos-de-seleccion-de-rango">Métodos de selección de rango</a></h2><p>Hay muchos métodos convenientes para manipular rangos.</p>
<p>Ya hemos visto <code>setStart</code> y <code>setEnd</code>, aquí hay otros métodos similares.</p>
<p>Establecer inicio de rango:</p>
<ul>
<li><code>setStart(node, offset)</code> establecer inicio en: posición <code>offset</code> en <code>node</code></li>
<li><code>setStartBefore(node)</code> establecer inicio en: justo antes <code>node</code></li>
<li><code>setStartAfter(node)</code> establecer inicio en: justo después <code>node</code></li>
</ul>
<p>Establecer fin de rango (métodos similares):</p>
<ul>
<li><code>setEnd(node, offset)</code> establecer final en: posición <code>offset</code> en <code>node</code></li>
<li><code>setEndBefore(node)</code> establecer final en: justo antes <code>node</code></li>
<li><code>setEndAfter(node)</code> establecer final en: justo después <code>node</code></li>
</ul>
<p>Técnicamente, <code>setStart/setEnd</code> puede hacer cualquier cosa, pero más métodos brindan más conveniencia.</p>
<p>En todos estos métodos <code>node</code> puede ser un nodo de texto o de elemento: para nodos de texto <code>offset</code> salta esa cantidad de caracteres, mientras que para los nodos de elementos es la cantidad de nodos secundarios.**</p>
<p>Más métodos aún para crear rangos:</p>
<ul>
<li><code>selectNode(node)</code> establecer rango para seleccionar el <code>node</code></li>
<li><code>selectNodeContents(node)</code> establecer rango para seleccionar todo el contenido de <code>node</code></li>
<li><code>collapse(toStart)</code> si <code>toStart=true</code> establece final=comienzo, de otra manera comienzo=final, colapsando así el rango</li>
<li><code>cloneRange()</code> crea un nuevo rango con el mismo inicio/final</li>
</ul>
<h2><a class="main__anchor" name="metodos-para-edicion-en-el-rango" href="#metodos-para-edicion-en-el-rango">Métodos para edición en el rango:</a></h2><p>Una vez creado el rango, podemos manipular su contenido usando estos métodos:</p>
<ul>
<li><code>deleteContents()</code> – eliminar el contenido de rango del documento</li>
<li><code>extractContents()</code> – eliminar el contenido de rango del documento y lo retorna como <a href="modifying-document.html#document-fragment">DocumentFragment</a></li>
<li><code>cloneContents()</code> – clonar el contenido del rango y lo retorna como <a href="modifying-document.html#document-fragment">DocumentFragment</a></li>
<li><code>insertNode(node)</code> – inserta <code>node</code> en el documento al comienzo del rango</li>
<li><code>surroundContents(node)</code> – envuelve <code>node</code> alrededor del contenido del rango. Para que esto funcione, el rango debe contener etiquetas de apertura y cierre para todos los elementos dentro de él, sin rangos parciales como <code>&lt;i&gt;abc</code>.</li>
</ul>
<p>Con estos métodos podemos hacer básicamente cualquier cosa con los nodos seleccionados.</p>
<p>Aquí está el banco de pruebas para verlos en acción:</p>
<div id="99ip8cfnkh" data-trusted="1" class="code-example" data-demo-height="260" data-refresh="1" data-autorun="true">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="mostrar" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="abrir en entorno controlado" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>Haga clic en los botones para ejecutar métodos en la selección, &quot;resetExample&quot; para restablecerla.

&lt;p id=&quot;p&quot;&gt;Example: &lt;i&gt;italic&lt;/i&gt; and &lt;b&gt;bold&lt;/b&gt;&lt;/p&gt;

&lt;p id=&quot;result&quot;&gt;&lt;/p&gt;
&lt;script&gt;
  let range = new Range();

  // Cada método demostrado se representa aquí:
  let methods = {
    deleteContents() {
      range.deleteContents()
    },
    extractContents() {
      let content = range.extractContents();
      result.innerHTML = &quot;&quot;;
      result.append(&quot;extracted: &quot;, content);
    },
    cloneContents() {
      let content = range.cloneContents();
      result.innerHTML = &quot;&quot;;
      result.append(&quot;cloned: &quot;, content);
    },
    insertNode() {
      let newNode = document.createElement('u');
      newNode.innerHTML = &quot;NEW NODE&quot;;
      range.insertNode(newNode);
    },
    surroundContents() {
      let newNode = document.createElement('u');
      try {
        range.surroundContents(newNode);
      } catch(e) { console.log(e) }
    },
    resetExample() {
      p.innerHTML = `Example: &lt;i&gt;italic&lt;/i&gt; and &lt;b&gt;bold&lt;/b&gt;`;
      result.innerHTML = &quot;&quot;;

      range.setStart(p.firstChild, 2);
      range.setEnd(p.querySelector('b').firstChild, 3);

      window.getSelection().removeAllRanges();
      window.getSelection().addRange(range);
    }
  };

  for(let method in methods) {
    document.write(`&lt;div&gt;&lt;button onclick=&quot;methods.${method}()&quot;&gt;${method}&lt;/button&gt;&lt;/div&gt;`);
  }

  methods.resetExample();
&lt;/script&gt;</code></pre>
        </div>
      </div>
      <div class="code-result code-example__result">
          <iframe
            class="code-result__iframe"
            name="test-99ip8cfnkh"
            style="height:260px"
            src="about:blank"></iframe>
        </div>
      </div><p>También existen métodos para comparar rangos, pero rara vez se utilizan. Cuando los necesite, consulte el <a href="https://dom.spec.whatwg.org/#interface-range">spec</a> o <a href="https://developer.mozilla.org/es/docs/Web/API/Range">manual MDN</a>.</p>
<h2><a class="main__anchor" name="selection" href="#selection">Selection</a></h2><p><code>Range</code> es un objeto genérico para gestionar rangos de selección. Pero crearlos no significa que podamos ver la selección en la pantalla.</p>
<p>Podemos crear objetos <code>Range</code>, pasarlos; no seleccionan nada visualmente por sí mismos.</p>
<p>La selección de documento está representada por el objeto <code>Selection</code>, que se puede obtener como <code>window.getSelection()</code> o <code>document.getSelection()</code> Una selección puede incluir cero o más rangos. Al menos, la <a href="https://www.w3.org/TR/selection-api/">especificación Selection API</a> lo dice. Sin embargo, en la práctica, solo Firefox permite seleccionar múltiples rangos en el documento usando <kbd class="shortcut">Ctrl<span class="shortcut__plus">+</span>click</kbd> (<kbd class="shortcut">Cmd<span class="shortcut__plus">+</span>click</kbd> para Mac).</p>
<p>Aquí hay una captura de pantalla de una selección con 3 rangos en Firefox:</p>
<figure><div class="image" style="width:556px">
      <div class="image__ratio" style="padding-top:76.97841726618705%"></div>
      <object type="image/svg+xml" data="article/selection-range/selection-firefox.svg" width="556" height="428" class="image__image" data-use-theme>
        <img src="article/selection-range/selection-firefox.svg" alt="" width="556" height="428">
      </object>
      </div></figure><p>Otros navegadores admiten un rango máximo de 1. Como veremos, algunos de los métodos de <code>Selection</code> implica que puede haber muchos rangos, pero nuevamente, en todos los navegadores excepto Firefox, hay un máximo de 1.</p>
<p>Aquí hay una pequeña demo que muestra la selección actual (selecciona algo y haz clic) como texto:</p>
<p><button onclick="alert(document.getSelection())">alert(document.getSelection())</button></p>
<h2><a class="main__anchor" name="propiedades-de-selection" href="#propiedades-de-selection">Propiedades de Selection</a></h2><p>Como dijimos antes, una selección en teoría tiene múltiples rangos. Podemos obtener estos objetos rango usando el método:</p>
<ul>
<li><code>getRangeAt(i)</code> – obtiene el rango “i” comenzando desde <code>0</code>. En todos los navegadores excepto Firefox, solo <code>0</code> es usado.</li>
</ul>
<p>También existen propiedades que a menudo brindan conveniencia.</p>
<p>Similar a Range, una selección tiene un inicio, llamado “ancla(anchor)”, y un final, llamado “foco(focus)”.</p>
<p>Las principales propiedades de selection son:</p>
<ul>
<li><code>anchorNode</code> – el nodo donde comienza la selección,</li>
<li><code>anchorOffset</code> – el desplazamiento en <code>anchorNode</code> donde comienza la selección,</li>
<li><code>focusNode</code> – el nodo donde termina la selección,</li>
<li><code>focusOffset</code> – el desplazamiento en <code>focusNode</code> donde termina la selección,</li>
<li><code>isCollapsed</code> – <code>true</code> si la selección no selecciona nada (rango vacío), o no existe.</li>
<li><code>rangeCount</code> – recuento de rangos en la selección, máximo “1” en todos los navegadores excepto Firefox.</li>
</ul>
<div class="important important_smart">
            <div class="important__header"><span class="important__type">Inicio/final, Selection vs. Range</span></div>
            <div class="important__content"><p>Hay una diferencia importante entre anchor/focus (ancla/foco) de una selección comparado al inicio/fin de un rango.</p>
<p>Sabemos que los objetos <code>Range</code> siempre tienen el inicio antes que el final.</p>
<p>En las selecciones, no siempre es así.</p>
<p>Seleccionar algo con el ratón puede hacerse en ambas direcciones: tanto de izquierda a derecha como de derecha a izquierda.</p>
<p>Cuando el botón es presionado, cuando se mueve hacia adelante en el documento, entonces su final (foco) estará después del inicio (ancla).</p>
<p>Ej. si el usuario comienza a seleccionar con el mouse y pasa de “Example” a “italic”:</p>
<figure><div class="image" style="width:563px">
      <div class="image__ratio" style="padding-top:16.69626998223801%"></div>
      <object type="image/svg+xml" data="article/selection-range/selection-direction-forward.svg" width="563" height="94" class="image__image" data-use-theme>
        <img src="article/selection-range/selection-direction-forward.svg" alt="" width="563" height="94">
      </object>
      </div></figure><p>…Pero la selección puede hacerse hacia atrás: comenzando por “italic” terminando en “Example”, su foco estará antes del ancla:</p>
<figure><div class="image" style="width:559px">
      <div class="image__ratio" style="padding-top:16.815742397137747%"></div>
      <object type="image/svg+xml" data="article/selection-range/selection-direction-backward.svg" width="559" height="94" class="image__image" data-use-theme>
        <img src="article/selection-range/selection-direction-backward.svg" alt="" width="559" height="94">
      </object>
      </div></figure></div></div>
<h2><a class="main__anchor" name="eventos-selection" href="#eventos-selection">Eventos Selection</a></h2><p>Hay eventos para realizar un seguimiento de la selección:</p>
<ul>
<li><code>elem.onselectstart</code> – cuando una selección comienza en <code>elem</code>, ej. el usuario comienza a mover el mouse con el botón presionado.
<ul>
<li>Evitar la acción predeterminada hace que la selección no se inicie.</li>
</ul>
</li>
<li><code>document.onselectionchange</code> – siempre que cambie una selección.
<ul>
<li>Tenga en cuenta: este controlador solo se puede configurar en <code>document</code>.</li>
</ul>
</li>
</ul>
<h3><a class="main__anchor" name="demostracion-de-seguimiento-de-seleccion" href="#demostracion-de-seguimiento-de-seleccion">Demostración de seguimiento de selección</a></h3><p>Aquí hay una pequeña demostración que muestra los límites de selección de forma dinámica a medida que cambia:</p>
<div id="1lywe827zd" data-trusted="1" class="code-example" data-demo-height="80">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="mostrar" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="abrir en entorno controlado" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;p id=&quot;p&quot;&gt;Select me: &lt;i&gt;italic&lt;/i&gt; and &lt;b&gt;bold&lt;/b&gt;&lt;/p&gt;

From &lt;input id=&quot;from&quot; disabled&gt; – To &lt;input id=&quot;to&quot; disabled&gt;
&lt;script&gt;
  document.onselectionchange = function() {
    let selection = document.getSelection();

    let {anchorNode, anchorOffset, focusNode, focusOffset} = selection;

    // anchorNode y focusNode usualmente son nodos de texto
    from.value = `${anchorNode?.data}, offset ${anchorOffset}`;
    to.value = `${focusNode?.data}, offset ${focusOffset}`;
  };
&lt;/script&gt;</code></pre>
        </div>
      </div>
      
      </div><h3><a class="main__anchor" name="demostracion-de-copia-de-seleccion" href="#demostracion-de-copia-de-seleccion">Demostración de copia de selección</a></h3><p>Hay dos enfoques para la copia de contenido seleccionado:</p>
<ol>
<li>Podemos usar <code>document.getSelection().toString()</code> para obtenerlo como texto.</li>
<li>O copiar el DOM entero; por ejemplo, si necesitamos mantener el formato, podemos obtener los rangos correspondientes con <code>getRangeAt(...)</code>. Un objeto <code>Range</code>, a su vez, tiene el método <code>cloneContents()</code> que clona su contenido y devuelve un objeto <code>DocumentFragment</code>, que podemos insertar en algún otro lugar.</li>
</ol>
<p>Una demostración de cómo obtener la selección como texto y como nodos DOM:</p>
<div id="x35ea5m7jz" data-trusted="1" class="code-example" data-demo-height="100">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="mostrar" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="abrir en entorno controlado" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;p id=&quot;p&quot;&gt;Select me: &lt;i&gt;italic&lt;/i&gt; and &lt;b&gt;bold&lt;/b&gt;&lt;/p&gt;

Cloned: &lt;span id=&quot;cloned&quot;&gt;&lt;/span&gt;
&lt;br&gt;
As text: &lt;span id=&quot;astext&quot;&gt;&lt;/span&gt;

&lt;script&gt;
  document.onselectionchange = function() {
    let selection = document.getSelection();

    cloned.innerHTML = astext.innerHTML = &quot;&quot;;

    // Clonar nodos DOM de rangos (admitimos selección múltiple aquí)
    for (let i = 0; i &lt; selection.rangeCount; i++) {
      cloned.append(selection.getRangeAt(i).cloneContents());
    }

    // Obtener como texto
    astext.innerHTML += selection;
  };
&lt;/script&gt;</code></pre>
        </div>
      </div>
      
      </div><h2><a class="main__anchor" name="metodos-de-seleccion" href="#metodos-de-seleccion">Métodos de selección</a></h2><p>Podemos trabajar con métodos de selección para agregar y eliminar rangos:</p>
<ul>
<li><code>getRangeAt(i)</code> – obtener el rango i-ésimo, comenzando desde “0”. En todos los navegadores, excepto Firefox, solo se utiliza <code>0</code>.</li>
<li><code>addRange(rango)</code> – agrega un <code>rango</code> a la selección. Todos los navegadores excepto Firefox ignoran la llamada, si la selección ya tiene un rango asociado.</li>
<li><code>removeRange(rango)</code> --elimina <code>rango</code> de la selección.</li>
<li><code>removeAllRanges()</code> --elimina todos los rangos.</li>
<li><code>empty()</code> – alias para <code>removeAllRanges</code>.</li>
</ul>
<p>Además, existen métodos convenientes para manipular el rango de selección directamente, sin llamadas intermedias a <code>Range</code>:</p>
<ul>
<li><code>collapse(node, offset)</code> – Reemplazar el rango seleccionado con uno nuevo que comienza y termina en el <code>node</code> dado, en posición <code>offset</code>.</li>
<li><code>setPosition(node, offset)</code> – alias para <code>collapse</code>.</li>
<li><code>collapseToStart()</code> – colapsar (reemplazar con un rango vacío) al inicio de la selección,</li>
<li><code>collapseToEnd()</code> – colapso hasta el final de la selección,</li>
<li><code>extend(node, offset)</code> – mover el foco de la selección al <code>node</code> dado, posición <code>offset</code>,</li>
<li><code>setBaseAndExtent(anchorNode, anchorOffset, focusNode, focusOffset)</code> – reemplazar el rango de selección con el inicio dado <code>anchorNode/anchorOffset</code> y final <code>focusNode/focusOffset</code>. Se selecciona todo el contenido entre ellos.</li>
<li><code>selectAllChildren(node)</code> – seleccionar todos los hijos del <code>node</code>.</li>
<li><code>deleteFromDocument()</code> – eliminar el contenido seleccionado del documento.</li>
<li><code>containsNode(node, allowPartialContainment = false)</code> – comprueba si la selección contiene <code>node</code> (parcialmente si el segundo argumento es <code>true</code>)</li>
</ul>
<p>Entonces, para muchas tareas podemos llamar a los métodos de <code>Selection</code>, y no es necesario acceder al objeto <code>Range</code> subyacente.</p>
<p>Por ejemplo, seleccionando todo el contenido del párrafo <code>&lt;p&gt;</code>:</p>
<div id="6ofytpannt" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="mostrar" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="abrir en entorno controlado" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;p id=&quot;p&quot;&gt;Select me: &lt;i&gt;italic&lt;/i&gt; and &lt;b&gt;bold&lt;/b&gt;&lt;/p&gt;

&lt;script&gt;
  // seleccione desde el 0 hijo de &lt;p&gt; hasta el último hijo
  document.getSelection().setBaseAndExtent(p, 0, p, p.childNodes.length);
&lt;/script&gt;</code></pre>
        </div>
      </div>
      
      </div><p>Lo mismo usando rangos:</p>
<div id="y6s8454tln" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="mostrar" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="abrir en entorno controlado" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;p id=&quot;p&quot;&gt;Select me: &lt;i&gt;italic&lt;/i&gt; and &lt;b&gt;bold&lt;/b&gt;&lt;/p&gt;

&lt;script&gt;
  let range = new Range();
  range.selectNodeContents(p); // o selectNode(p) para seleccionar el tag &lt;p&gt; también

  document.getSelection().removeAllRanges(); // borrar la selección existente si la hubiera
  document.getSelection().addRange(range);
&lt;/script&gt;</code></pre>
        </div>
      </div>
      
      </div><div class="important important_smart">
            <div class="important__header"><span class="important__type">Para seleccionar, primero elimine la selección existente</span></div>
            <div class="important__content"><p>Si la selección ya existe, vacíelo primero con <code>removeAllRanges()</code>. Y luego agregue rangos. De lo contrario, todos los navegadores excepto Firefox ignoran los nuevos rangos.</p>
<p>La excepción son algunos métodos de selección, que reemplazan la selección existente, como <code>setBaseAndExtent</code>.</p>
</div></div>
<h2><a class="main__anchor" name="seleccion-en-controles-de-formulario" href="#seleccion-en-controles-de-formulario">Selección en controles de formulario</a></h2><p>Elementos de formulario, como <code>input</code> y <code>textarea</code> proporciona <a href="https://html.spec.whatwg.org/#textFieldSelection">API especial para la selección</a>, sin objetos <code>Selection</code> o <code>Range</code>. Como un valor de entrada es un texto puro, no HTML, no hay necesidad de tales objetos, todo es mucho más simple.</p>
<p>Propiedades:</p>
<ul>
<li><code>input.selectionStart</code> – posición de inicio de selección (escribible),</li>
<li><code>input.selectionEnd</code> – posición del final de la selección (escribible),</li>
<li><code>input.selectionDirection</code> – dirección de selección, una de: “adelante” “hacia atrás” o “ninguno” (si, por ejemplo, se selecciona con un doble clic del mouse),</li>
</ul>
<p>Eventos:</p>
<ul>
<li><code>input.onselect</code> – se activa cuando se selecciona algo.</li>
</ul>
<p>Métodos:</p>
<ul>
<li>
<p><code>input.select()</code> – selecciona todo en el control de texto (puede ser <code>textarea</code> en vez de <code>input</code>),</p>
</li>
<li>
<p><code>input.setSelectionRange(start, end, [direction])</code> – cambiar la selección para abarcar desde la posición <code>start</code> hasta <code>end</code>, en la dirección indicada (opcional).</p>
</li>
<li>
<p><code>input.setRangeText(replacement, [start], [end], [selectionMode])</code> – reemplace un rango de texto con el nuevo texto.</p>
<p>Los argumentos opcionales <code>start</code> y <code>end</code>, si se proporcionan, establecen el inicio y el final del rango; de lo contrario, se utiliza la selección del usuario.</p>
<p>El último argumento, <code>selectionMode</code>, determina cómo se establecerá la selección después de que se haya reemplazado el texto. Los posibles valores son:</p>
<ul>
<li><code>&quot;select&quot;</code> – se seleccionará el texto recién insertado.</li>
<li><code>&quot;start&quot;</code> – el rango de selección se colapsa justo antes del texto insertado (el cursor estará inmediatamente antes).</li>
<li><code>&quot;end&quot;</code> – el rango de selección se colapsa justo después del texto insertado (el cursor estará justo después).</li>
<li><code>&quot;preserve&quot;</code> – intenta preservar la selección. Este es el predeterminado.</li>
</ul>
</li>
</ul>
<p>Ahora veamos estos métodos en acción.</p>
<h3><a class="main__anchor" name="ejemplo-seguimiento-de-seleccion" href="#ejemplo-seguimiento-de-seleccion">Ejemplo: Seguimiento de selección</a></h3><p>Por ejemplo, este código usa el evento <code>onselect</code> para rastrear la selección:</p>
<div id="en6tcjjlib" data-trusted="1" class="code-example" data-autorun="true">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="mostrar" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="abrir en entorno controlado" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;textarea id=&quot;area&quot; style=&quot;width:80%;height:60px&quot;&gt;
Selecting in this text updates values below.
&lt;/textarea&gt;
&lt;br&gt;
From &lt;input id=&quot;from&quot; disabled&gt; – To &lt;input id=&quot;to&quot; disabled&gt;

&lt;script&gt;
  area.onselect = function() {
    from.value = area.selectionStart;
    to.value = area.selectionEnd;
  };
&lt;/script&gt;</code></pre>
        </div>
      </div>
      <div class="code-result code-example__result">
          <iframe
            class="code-result__iframe"
            name="test-en6tcjjlib"
            style="height:200px"
            src="about:blank"></iframe>
        </div>
      </div><p>Tenga en cuenta:</p>
<ul>
<li><code>onselect</code> se activa cuando se selecciona algo, pero no cuando se elimina la selección.</li>
<li>El evento <code>document.onselectionchange</code> no debería activarse para las selecciones dentro de un control de formulario, según el <a href="https://w3c.github.io/selection-api/#dfn-selectionchange">spec</a>, ya que no está relacionado con la selección y los rangos del “documento”. Algunos navegadores lo generan, pero no debemos confiar en él.</li>
</ul>
<h3><a class="main__anchor" name="ejemplo-cursor-en-movimiento" href="#ejemplo-cursor-en-movimiento">Ejemplo: cursor en movimiento</a></h3><p>Podemos cambiar <code>selectionStart</code> y <code>selectionEnd</code>, que establece la selección.</p>
<p>Un caso límite importante es cuando <code>selectionStart</code> y <code>selectionEnd</code> son iguales entre sí. Entonces es exactamente la posición del cursor. O, para reformular, cuando no se selecciona nada, la selección se contrae en la posición del cursor.</p>
<p>Entonces, al establecer <code>selectionStart</code> y <code>selectionEnd</code> en el mismo valor, movemos el cursor.</p>
<p>Por ejemplo:</p>
<div id="8qvq773smc" data-trusted="1" class="code-example" data-autorun="true">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="mostrar" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="abrir en entorno controlado" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;textarea id=&quot;area&quot; style=&quot;width:80%;height:60px&quot;&gt;
Focus on me, the cursor will be at position 10.
&lt;/textarea&gt;

&lt;script&gt;
  area.onfocus = () =&gt; {
    // zero delay setTimeout to run after browser &quot;focus&quot; action finishes
    setTimeout(() =&gt; {
      // we can set any selection
      // if start=end, the cursor is exactly at that place
      area.selectionStart = area.selectionEnd = 10;
    });
  };
&lt;/script&gt;</code></pre>
        </div>
      </div>
      <div class="code-result code-example__result">
          <iframe
            class="code-result__iframe"
            name="test-8qvq773smc"
            style="height:200px"
            src="about:blank"></iframe>
        </div>
      </div><h3><a class="main__anchor" name="ejemplo-modificar-la-seleccion" href="#ejemplo-modificar-la-seleccion">Ejemplo: modificar la selección</a></h3><p>Para modificar el contenido de la selección, podemos utilizar el método <code>input.setRangeText()</code> Por supuesto, podemos leer <code>selectionStart/End</code> y, con el conocimiento de la selección, cambiar la subcadena correspondiente de <code>value</code>, pero <code>setRangeText</code> es más poderoso y a menudo más conveniente.</p>
<p>Ese es un método algo complejo. En su forma más simple de un argumento, reemplaza el rango seleccionado por el usuario y elimina la selección.</p>
<p>Por ejemplo, aquí la selección de usuario estará envuelta por <code>*...*</code>:</p>
<div id="zohnws4z16" data-trusted="1" class="code-example" data-autorun="true">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="mostrar" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="abrir en entorno controlado" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;input id=&quot;input&quot; style=&quot;width:200px&quot; value=&quot;Select here and click the button&quot;&gt;
&lt;button id=&quot;button&quot;&gt;Wrap selection in stars *...*&lt;/button&gt;

&lt;script&gt;
button.onclick = () =&gt; {
  if (input.selectionStart == input.selectionEnd) {
    return; // nada fue seleccionado
  }

  let selected = input.value.slice(input.selectionStart, input.selectionEnd);
  input.setRangeText(`*${selected}*`);
};
&lt;/script&gt;</code></pre>
        </div>
      </div>
      <div class="code-result code-example__result">
          <iframe
            class="code-result__iframe"
            name="test-zohnws4z16"
            style="height:200px"
            src="about:blank"></iframe>
        </div>
      </div><p>Con más argumentos, podemos establecer un rango <code>start</code> y <code>end</code>.</p>
<p>En este ejemplo, encontramos <code>THIS</code> en el texto de entrada, lo reemplazamos y mantenemos el reemplazo seleccionado:</p>
<div id="x4yrtnb6qq" data-trusted="1" class="code-example" data-autorun="true">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="mostrar" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="abrir en entorno controlado" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;input id=&quot;input&quot; style=&quot;width:200px&quot; value=&quot;Replace THIS in text&quot;&gt;
&lt;button id=&quot;button&quot;&gt;Replace THIS&lt;/button&gt;

&lt;script&gt;
button.onclick = () =&gt; {
  let pos = input.value.indexOf(&quot;THIS&quot;);
  if (pos &gt;= 0) {
    input.setRangeText(&quot;*THIS*&quot;, pos, pos + 4, &quot;select&quot;);
    input.focus(); // focus to make selection visible
  }
};
&lt;/script&gt;</code></pre>
        </div>
      </div>
      <div class="code-result code-example__result">
          <iframe
            class="code-result__iframe"
            name="test-x4yrtnb6qq"
            style="height:200px"
            src="about:blank"></iframe>
        </div>
      </div><h3><a class="main__anchor" name="ejemplo-insertar-en-el-cursor" href="#ejemplo-insertar-en-el-cursor">Ejemplo: insertar en el cursor</a></h3><p>Si no se selecciona nada, o usamos el mismo <code>comienzo</code> y <code>final</code> en <code>setRangeText</code>, entonces el nuevo texto se acaba de insertar, no se elimina nada.</p>
<p>También podemos insertar algo “en el cursor” usando <code>setRangeText</code>.</p>
<p>Aquí hay un botón que se inserta <code>&quot;HELLO&quot;</code> en la posición del cursor y lo coloca inmediatamente después. Si la selección no está vacía, entonces se reemplaza (podemos detectarla comparando <code>selectionStart!=selectionEnd</code> y hacer otra cosa en su lugar):</p>
<div id="38x23q8kot" data-trusted="1" class="code-example" data-autorun="true">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="mostrar" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="abrir en entorno controlado" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;input id=&quot;input&quot; style=&quot;width:200px&quot; value=&quot;Text Text Text Text Text&quot;&gt;
&lt;button id=&quot;button&quot;&gt;Insert &quot;HELLO&quot; at cursor&lt;/button&gt;

&lt;script&gt;
  button.onclick = () =&gt; {
    input.setRangeText(&quot;HELLO&quot;, input.selectionStart, input.selectionEnd, &quot;end&quot;);
    input.focus();
  };
&lt;/script&gt;</code></pre>
        </div>
      </div>
      <div class="code-result code-example__result">
          <iframe
            class="code-result__iframe"
            name="test-38x23q8kot"
            style="height:200px"
            src="about:blank"></iframe>
        </div>
      </div><h2><a class="main__anchor" name="haciendo-no-seleccionable" href="#haciendo-no-seleccionable">Haciendo no seleccionable</a></h2><p>Para hacer algo no seleccionable, hay tres formas:</p>
<ol>
<li>
<p>Usar propiedad CSS <code>user-select: none</code>.</p>
<div id="3931j2nup7" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="mostrar" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="abrir en entorno controlado" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;style&gt;
#elem {
  user-select: none;
}
&lt;/style&gt;
&lt;div&gt;Selectable &lt;div id=&quot;elem&quot;&gt;Unselectable&lt;/div&gt; Selectable&lt;/div&gt;</code></pre>
        </div>
      </div>
      
      </div><p>Esto no permite que la selección comience en <code>elem</code>. Pero el usuario puede iniciar la selección en otro lugar e incluir <code>elem</code> en ella.</p>
<p>Entonces, <code>elem</code> se convertirá en parte de <code>document.getSelection )</code>, por lo que la selección realmente ocurre, pero su contenido generalmente se ignora al copiar y pegar.</p>
</li>
<li>
<p>Evita la acción predeterminada en los eventos <code>onselectstart</code> o <code>mousedown</code>.</p>
<div id="zphftsbffj" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="mostrar" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="abrir en entorno controlado" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code>&lt;div&gt;Selectable &lt;div id=&quot;elem&quot;&gt;Unselectable&lt;/div&gt; Selectable&lt;/div&gt;

&lt;script&gt;
  elem.onselectstart = () =&gt; false;
&lt;/script&gt;</code></pre>
        </div>
      </div>
      
      </div><p>Esto evita que la selección se inicie en <code>elem</code>, pero el visitante puede iniciarla en otro elemento y luego extenderla a <code>elem</code>.</p>
</li>
</ol>
<p>Eso es conveniente cuando hay otro controlador de eventos en la misma acción que activa la selección (por ejemplo, <code>mousedown</code>). Así que deshabilitamos la selección para evitar conflictos, permitiendo que se copien los contenidos de <code>elem</code>.</p>
<ol start="3">
<li>También podemos borrar la selección post-factum después de que suceda con <code>document.getSelection().Empty ()</code>. Eso se usa con poca frecuencia, ya que provoca un parpadeo no deseado cuando la selección aparece o desaparece.</li>
</ol>
<h2><a class="main__anchor" name="referencias" href="#referencias">Referencias</a></h2><ul>
<li><a href="https://dom.spec.whatwg.org/#ranges">DOM spec: Range</a></li>
<li><a href="https://www.w3.org/TR/selection-api/#dom-globaleventhandlers-onselectstart">Selection API</a></li>
<li><a href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#textFieldSelection">HTML spec: APIs for the text control selections</a></li>
</ul>
<h2><a class="main__anchor" name="resumen" href="#resumen">Resumen</a></h2><p>Cubrimos dos API diferentes para las selecciones:</p>
<ol>
<li>Para el documento: objetos <code>Selection</code> y <code>Range</code>.</li>
<li>Para <code>input</code>, <code>textarea</code>: métodos y propiedades adicionales.</li>
</ol>
<p>La segunda API es muy simple, ya que funciona con texto.</p>
<p>Las recetas más utilizadas probablemente sean:</p>
<ol>
<li>Obteniendo la selección:<div id="wvru5o0j0s" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code>let selection = document.getSelection();

let cloned = /* elemento para clonar los nodos seleccionados para */;

// luego aplica los métodos Range a selection.getRangeAt (0)
// o, como aquí, a todos los rangos para admitir selección múltiple
for (let i = 0; i &lt; selection.rangeCount; i++) {
  cloned.append(selection.getRangeAt(i).cloneContents());
}</code></pre>
        </div>
      </div>
      
      </div></li>
<li>Configuración de la selección:<div id="sofrx34ijt" data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code>let selection = document.getSelection();

// directamente:
selection.setBaseAndExtent(...from...to...);

// o podemos crear un rango y:
selection.removeAllRanges();
selection.addRange(range);</code></pre>
        </div>
      </div>
      
      </div></li>
</ol>
<p>Y finalmente, sobre el cursor. La posición del cursor en elementos editables, como <code>&lt;textarea&gt;</code> está siempre al principio o al final de la selección. Podemos usarlo para obtener la posición del cursor o para mover el cursor configurando <code>elem.selectionStart</code> y <code>elem.selectionEnd</code>.</p>
</div></article></div><div class="page__nav-wrap"><a class="page__nav page__nav_prev" href="mutation-observer.html" data-tooltip="Mutation observer"><span class="page__nav-text"><span class="page__nav-text-shortcut"></span></span><span class="page__nav-text-alternate">Lección anterior</span></a><a class="page__nav page__nav_next" href="event-loop.html" data-tooltip="Loop de eventos: microtareas y macrotareas"><span class="page__nav-text"><span class="page__nav-text-shortcut"></span></span><span class="page__nav-text-alternate">Próxima lección</span></a></div><div class="article-tablet-foot tablet-only"><div class="article-tablet-foot__layout"><div class="share-icons"><span class="share-icons__title">Compartir</span><a class="share share_tw" href="https://twitter.com/share?url=https%3A%2F%2Fes.javascript.info%2Fselection-range" rel="nofollow"></a><a class="share share_fb" href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p%5Burl%5D=https%3A%2F%2Fes.javascript.info%2Fselection-range" rel="nofollow"></a></div><div class="article-tablet-foot__map"><a class="map" href="tutorial/map.html" data-action="tutorial-map"><span class="map__text">Mapa del Tutorial</span></a></div></div></div><div class="comments formatted" id="comments"><div class="comments__header"><h2 class="comments__header-title"><a href="#comments" name="comments">Comentarios</a></h2><div class="comments__read-before"><span class="comments__read-before-link">lea esto antes de comentar…</span><div class="comments__read-before-popup"><div class="comments__read-before-popup-i"><ul><li>Si tiene sugerencias sobre qué mejorar, por favor <a href="https://github.com/javascript-tutorial/en.javascript.info/issues/new">enviar una propuesta de GitHub</a> o una solicitud de extracción en lugar de comentar.</li><li>Si no puede entender algo en el artículo, por favor explique.</li><li>Para insertar algunas palabras de código, use la etiqueta <code>&lt;code&gt;</code>, para varias líneas – envolverlas en la etiqueta <code>&lt;pre&gt;</code>, para más de 10 líneas – utilice una entorno controlado (sandbox) (<a href='https://plnkr.co/edit/?p=preview'>plnkr</a>, <a href='https://jsbin.com/'>jsbin</a>, <a href='http://codepen.io/'>codepen</a>…)</li></ul></div></div></div></div><div id="disqus_thread"></div><script>var disqus_config = function() { if (!this.page) this.page = {}; Object.assign(this.page, {"url":"https:\/\/es.javascript.info\/selection-range","identifier":"\/selection-range"}); };</script><script>var disqus_shortname = "es-javascript-info";</script><script>var disqus_enabled = true;</script></div></main></div><div class="sidebar page__sidebar sidebar sidebar_sticky-footer"><button class="sidebar__toggle" data-sidebar-toggle></button><a class="map" href="tutorial/map.html" data-action="tutorial-map" data-tooltip="Mapa del Tutorial"></a><div class="sidebar__inner"><div class="sidebar__content"><div class="sidebar__section"><h4 class="sidebar__section-title">Capítulo</h4><nav class="sidebar__navigation"><ul class="sidebar__navigation-links"><li class="sidebar__navigation-link"><a class="sidebar__link" href="ui-misc.html">Temas diversos</a></li></ul></nav></div><div class="sidebar__section"><h4 class="sidebar__section-title">Navegación de lección</h4><nav class="sidebar__navigation"><ul class="sidebar__navigation-links"><li class="sidebar__navigation-link"><a class="sidebar__link" href="#range">Range</a></li><li class="sidebar__navigation-link"><a class="sidebar__link" href="#propiedades-de-range">Propiedades de Range</a></li><li class="sidebar__navigation-link"><a class="sidebar__link" href="#metodos-de-seleccion-de-rango">Métodos de selección de rango</a></li><li class="sidebar__navigation-link"><a class="sidebar__link" href="#metodos-para-edicion-en-el-rango">Métodos para edición en el rango:</a></li><li class="sidebar__navigation-link"><a class="sidebar__link" href="#selection">Selection</a></li><li class="sidebar__navigation-link"><a class="sidebar__link" href="#propiedades-de-selection">Propiedades de Selection</a></li><li class="sidebar__navigation-link"><a class="sidebar__link" href="#eventos-selection">Eventos Selection</a></li><li class="sidebar__navigation-link"><a class="sidebar__link" href="#metodos-de-seleccion">Métodos de selección</a></li><li class="sidebar__navigation-link"><a class="sidebar__link" href="#seleccion-en-controles-de-formulario">Selección en controles de formulario</a></li><li class="sidebar__navigation-link"><a class="sidebar__link" href="#haciendo-no-seleccionable">Haciendo no seleccionable</a></li><li class="sidebar__navigation-link"><a class="sidebar__link" href="#referencias">Referencias</a></li><li class="sidebar__navigation-link"><a class="sidebar__link" href="#resumen">Resumen</a></li></ul></nav></div><div class="sidebar__section"><nav class="sidebar__navigation"><ul class="sidebar__navigation-links"><li class="sidebar__navigation-link"><a class="sidebar__link" href="#comments">Comentarios</a></li></ul></nav></div><div class="sidebar__section"><div class="sidebar__section-title">Compartir</div><a class="share share_tw sidebar__share" href="https://twitter.com/share?url=https%3A%2F%2Fes.javascript.info%2Fselection-range" rel="nofollow"></a><a class="share share_fb sidebar__share" href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p[url]=https%3A%2F%2Fes.javascript.info%2Fselection-range" rel="nofollow"></a></div><div class="sidebar__section"><a class="sidebar__link" href="https://github.com/javascript-tutorial/es.javascript.info/blob/master/2-ui/99-ui-misc/02-selection-range" rel="nofollow">Editar en GitHub</a></div></div></div></div></div></div><div class="page-footer"><ul class="page-footer__list"><li class="page-footer__item page-footer__item_copy">©&nbsp;2007—2023&nbsp; Ilya Kantor</li><li class="page-footer__item page-footer__item_about"><a class="page-footer__link" href="about.html">acerca del proyecto</a></li><li class="page-footer__item page-footer__item_contact"><a class="page-footer__link" href="about.html#contact-us">contáctenos</a></li></ul></div></body>
<!-- Mirrored from es.javascript.info/selection-range by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 07 Feb 2023 21:14:38 GMT -->
</html>